<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
      <!--
		
		Generated at 2007-02-12T11:38:49.726Z-->
      <title>Saxonica: XSLT and XQuery Processing: Converting Atomic Values and Sequences</title>
      <meta name="coverage" content="Worldwide">
      <meta name="copyright" content="Copyright Saxonica Ltd">
      <meta name="title" content="Saxonica: XSLT and XQuery Processing: Converting Atomic Values and Sequences">
      <meta name="robots" content="noindex,nofollow">
      <link rel="stylesheet" href="../../saxondocs.css" type="text/css">
   </head>
   <body class="main">
      <div id="rhDkBlueArea" style="position:absolute; width:123px; height:1535px; z-index:2; right: 0px; top: 0px; border: 1px none #000000; background-color: #C1CEDE; layer-background-color: #C1CEDE; visibility: visible;"></div>
      <div id="rhMdBlueArea" style="position:absolute; width:217px; height:1535px; z-index:2; right: 340px; top: 0px; border: 1px none #000000; background-color: #E4EEF0; layer-background-color: #E4EEF0; visibility: visible;"></div>
      <div id="lhLightArea" style="position:absolute; width:34px; height:1535px; z-index:2; left: 66px; top: 0px; border: 1px none #000000; background-color: #f6fffb; layer-background-color: #E4EEF0; visibility: visible;"></div>
      <div id="lhDkBlueArea" style="position:absolute; width:66px; height:1535px; z-index:2; left: 0px; top: 0px; border: 1px none #000000; background-color: #C1CEDE; layer-background-color: #C1CEDE; visibility: visible;"></div>
      <div id="LogoArea" style="position:absolute; width:340px; height:72px; z-index:3; right: 0px; top: 0px; border: 1px none #000000; visibility: visible;"><a href="../../index/intro.html"><img src="../../img/saxonica_logo.gif" width="340" height="72" border="0" alt="Saxonica.com"></a></div>
      <div id="MenuArea" style="position:absolute; width:157px; z-index:4; right: 33px; top: 114px; visibility: visible; background-color: #f6fffb; layer-background-color: #f6fffb; border: 1px solid #3D5B96; padding-top:9px; padding-left:15px;padding-right:11px; padding-bottom:9px;">
         <table width="164" border="0" bgcolor="#3D5B96" cellspacing="1" cellpadding="1">
            <tr bgcolor="#f6fffb">
               <td style="padding-left:5px"><a href="http://www.saxonica.com/">SAXONICA</a></td>
            </tr>
         </table><br><table border="0" cellspacing="0" cellpadding="1">
            <tr>
               <td class="title" colspan="2">Saxon Documentation</td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/spacer.gif" width="120" height="10" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../contents.html">Full Contents</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../index/intro.html">About Saxon</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../changes/intro.html">Changes in this Release</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../conditions/intro.html">Conditions of Use</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../using-xsl/intro.html">Using XSLT 2.0</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../using-xquery/intro.html">Using XQuery</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../sourcedocs/intro.html">Handling Source Documents</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../schema-processing/intro.html">XML Schema Processing</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../xpath-api/intro.html">XPath API for Java</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../dotnet/intro.html">Saxon on .NET</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../extensibility/intro.html">Extensibility</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../intro.html">Introduction</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../functions.html">Writing extension functions in Java</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../converting-args.html">Converting Arguments to Java Extension Functions</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../function-result.html">Converting the Result of a Java Extension Function</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../dotnetextensions.html">Writing extension functions for .NET</a></td>
            </tr>
            <tr>
               <td>»&nbsp;</td>
               <td><a href="../converting-args.net.html">Converting Arguments to .NET Extension Functions</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../function-result.net.html">Converting the Result of a .NET Extension Function</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../instructions.html">Writing XSLT extension instructions</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../output-filters.html">Customizing Serialization</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../collation.html">Implementing a collating sequence</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../localizing.html">Localizing numbers and dates</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../output-encoding.html">Adding an output encoding</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../uri-resolver.html">Writing a URI Resolver for Input Files</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../output-uri-resolver.html">Writing a URI Resolver for Output Files</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../extensions/intro.html">Saxon Extensions</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../samples/intro.html">Sample Saxon Applications</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../sql-extension/intro.html">The Saxon SQL Extension</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../xsl-elements/intro.html">XSLT Elements</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../expressions/intro.html">XPath 2.0 Expression Syntax</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../functions/intro.html">Function Library</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../conformance/intro.html">Standards Conformance</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
         </table>
      </div>
      <div id="MainTextArea" style="position:absolute; height:100%; z-index:5; left: 130px; right: 260px; top: 110px; border: 1px none #000000; visibility: visible;">
         <h1>Converting Atomic Values and Sequences</h1>
         <p>The following conversions are supported between the static type of the supplied value of the argument, 
            and the declared
            .NET type of the argument. The mappings are given in order of preference; a type that appears earlier
            in the list has smaller "conversion distance" than one appearing later. These priorities are used to decide
            which method to call when the class has several methods of the same name. Simple classes (such as boolean)
            are acceptable wherever the corresponding wrapper class (Boolean) is allowed. Class names shown in
            italics are Saxon-specific classes.
         </p>
         <p>If the static type of the supplied value allows a sequence of more than one item, then Saxon looks for a method
            that expects a <code>SequenceIterator</code>, a <code>Collection</code>
            or an array in that order. (The first two classes are Saxon-specific). In all these cases except the last the item
            type of the supplied value plays no role.
         </p>
         <p>Nodes in the supplied sequence are atomized only if the .NET method requires an atomic type such as an integer
            or string. If the method requires an ICollection, then the contents of the sequence will be supplied <i>as is</i>. The objects in
            the List will typically be Saxon <code>Item</code> objects. (Saxon does not yet recognize the generic types in .NET 2.0, 
            which allow the item type of a collection to be declared). If atomization is required, you can force it by calling the 
            <code>data()</code> function.
         </p>
         <p>If the required type is an array, Saxon will attempt to create an array of the required type. This will not always succeed,
            for example if the array has type <code>X[]</code> where X is an interface rather than a concrete class. If it is an array of items
            or nodes, the nodes in the supplied sequence will be inserted into the array directly; if it is an array of a type such as
            integer or
            double, the sequence will first be atomized.
         </p>
         <p>If the supplied value is a singleton (a sequence of one item) then the type of that item is decisive. If
            it is a sequence of length zero or more than one, then the general rules for a sequence are applied, and the
            types of the items within the sequence are irrelevant.
         </p>
         <p>If the supplied value contains more than item and only a single item is expected, an error is reported. There is no
            implicit extraction of the first value (as happened in earlier releases).
         </p>
         <table>
            <tr>
               <td valign="top" width="30%">
                  <p><b>Supplied type</b></p>
               </td>
               <td valign="top">
                  <p><b>Required type</b></p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>boolean</p>
               </td>
               <td>
                  <p><i>BooleanValue</i>, bool
                  </p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>dateTime</p>
               </td>
               <td>
                  <p><i>DateTimeValue</i>, Date
                  </p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>date</p>
               </td>
               <td>
                  <p><i>DateValue</i>, Date
                  </p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>decimal</p>
               </td>
               <td>
                  <p><i>DecimalValue</i>, decimal, double, float
                  </p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>double</p>
               </td>
               <td>
                  <p><i>DoubleValue</i>, double
                  </p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>duration</p>
               </td>
               <td>
                  <p><i>DurationValue</i></p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>float</p>
               </td>
               <td>
                  <p><i>FloatValue</i>, float, double
                  </p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>integer</p>
               </td>
               <td>
                  <p><i>IntegerValue</i>, decimal, long, integer, short, byte, double, float
                  </p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>string</p>
               </td>
               <td>
                  <p><i>StringValue</i>, string
                  </p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>anyURI</p>
               </td>
               <td>
                  <p><i>AnyURIValue</i>, Uri, string
                  </p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>QName</p>
               </td>
               <td>
                  <p><i>QNameValue</i>, ??
                  </p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>node</p>
               </td>
               <td>
                  <p><i>SingletonNodeSet</i>, NodeList, (Element, Attr, Document, DocumentFragment, 
                     Comment, Text, ProcessingInstruction, CharacterData), Node, Boolean, 
                     Byte, Character, Double, Float, Integer, Long, Short, (String, CharSequence), Object
                  </p>
               </td>
            </tr>
            <tr>
               <td valign="top">
                  <p>sequence</p>
               </td>
               <td>
                  <p><i>SequenceIterator</i>, <i>SequenceValue</i>, List, NodeList, <i>NodeInfo</i>, Node, (String, CharSequence), Boolean, 
                     Byte, Character, Double, Float, Integer, Long, Short, Object
                  </p>
               </td>
            </tr>
         </table>
         <p>Saxon tries to select the appropriate method based on the <i>static type</i> of the arguments
            to the function call. If there are several candidate methods, and there is insufficient information available to decide
            which is most appropriate, an error is reported. The remedy is to cast the arguments to a more specific type.
         </p>
         <table width="100%">
            <tr>
               <td>
                  <p align="right"><a class="nav" href="converting-node.net.html">Next</a></p>
               </td>
            </tr>
         </table>
      </div>
   </body>
</html>