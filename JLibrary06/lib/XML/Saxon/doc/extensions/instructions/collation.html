<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
      <!--
		
		Generated at 2007-02-12T11:38:49.726Z-->
      <title>Saxonica: XSLT and XQuery Processing: saxon:collation</title>
      <meta name="coverage" content="Worldwide">
      <meta name="copyright" content="Copyright Saxonica Ltd">
      <meta name="title" content="Saxonica: XSLT and XQuery Processing: saxon:collation">
      <meta name="robots" content="noindex,nofollow">
      <link rel="stylesheet" href="../../saxondocs.css" type="text/css">
   </head>
   <body class="main">
      <div id="rhDkBlueArea" style="position:absolute; width:123px; height:2299px; z-index:2; right: 0px; top: 0px; border: 1px none #000000; background-color: #C1CEDE; layer-background-color: #C1CEDE; visibility: visible;"></div>
      <div id="rhMdBlueArea" style="position:absolute; width:217px; height:2299px; z-index:2; right: 340px; top: 0px; border: 1px none #000000; background-color: #E4EEF0; layer-background-color: #E4EEF0; visibility: visible;"></div>
      <div id="lhLightArea" style="position:absolute; width:34px; height:2299px; z-index:2; left: 66px; top: 0px; border: 1px none #000000; background-color: #f6fffb; layer-background-color: #E4EEF0; visibility: visible;"></div>
      <div id="lhDkBlueArea" style="position:absolute; width:66px; height:2299px; z-index:2; left: 0px; top: 0px; border: 1px none #000000; background-color: #C1CEDE; layer-background-color: #C1CEDE; visibility: visible;"></div>
      <div id="LogoArea" style="position:absolute; width:340px; height:72px; z-index:3; right: 0px; top: 0px; border: 1px none #000000; visibility: visible;"><a href="../../index/intro.html"><img src="../../img/saxonica_logo.gif" width="340" height="72" border="0" alt="Saxonica.com"></a></div>
      <div id="MenuArea" style="position:absolute; width:157px; z-index:4; right: 33px; top: 114px; visibility: visible; background-color: #f6fffb; layer-background-color: #f6fffb; border: 1px solid #3D5B96; padding-top:9px; padding-left:15px;padding-right:11px; padding-bottom:9px;">
         <table width="164" border="0" bgcolor="#3D5B96" cellspacing="1" cellpadding="1">
            <tr bgcolor="#f6fffb">
               <td style="padding-left:5px"><a href="http://www.saxonica.com/">SAXONICA</a></td>
            </tr>
         </table><br><table border="0" cellspacing="0" cellpadding="1">
            <tr>
               <td class="title" colspan="2">Saxon Documentation</td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/spacer.gif" width="120" height="10" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../contents.html">Full Contents</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../index/intro.html">About Saxon</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../changes/intro.html">Changes in this Release</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../conditions/intro.html">Conditions of Use</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../using-xsl/intro.html">Using XSLT 2.0</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../using-xquery/intro.html">Using XQuery</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../sourcedocs/intro.html">Handling Source Documents</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../schema-processing/intro.html">XML Schema Processing</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../xpath-api/intro.html">XPath API for Java</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../dotnet/intro.html">Saxon on .NET</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../extensibility/intro.html">Extensibility</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../extensions/intro.html">Saxon Extensions</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../intro.html">Introduction</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../exslt.html">EXSLT Extensions</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../attributes.html">Extension attributes (XSLT only)</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../output-extras.html">Additional serialization parameters</a></td>
            </tr>
            <tr>
               <td><img src="../../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="../functions.html">Extension functions</a></td>
            </tr>
            <tr>
               <td>»&nbsp;</td>
               <td><a href="../instructions.html">Extension instructions</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../samples/intro.html">Sample Saxon Applications</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../sql-extension/intro.html">The Saxon SQL Extension</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../xsl-elements/intro.html">XSLT Elements</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../expressions/intro.html">XPath 2.0 Expression Syntax</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../functions/intro.html">Function Library</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../../conformance/intro.html">Standards Conformance</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
         </table>
      </div>
      <div id="MainTextArea" style="position:absolute; height:100%; z-index:5; left: 130px; right: 260px; top: 110px; border: 1px none #000000; visibility: visible;">
         <h1>saxon:collation</h1>
         <div class="boxed" style="border: solid thin; background-color: #B1CCC7; padding: 2px"><b>saxon:collation is deprecated.</b>
            It is also possible to specify a collation directly by using a URI of
            the form <code>http://saxon.sf.net/collation?keyword=value;keyword=value;...</code>.
            For details see <a class="bodylink" href="../../extensibility/collation.html">Collations</a>.
         </div>
         <p>The <code>saxon:collation</code> element is a top-level element used to define 
            collating sequences that may be used in sort keys and in functions such as 
            <code>compare()</code>.
         </p>
         <p>The collation name is a URI , and
            is defined in the mandatory <code>name</code> attribute. This must be a valid URI.
            If it is a relative URI, it is interpreted as being relative to the base URI of the
            <code>saxon:collation</code> element itself.
         </p>
         <p>The <b>default</b> attribute was used in earlier Saxon releases to identify the default
            collation. From Saxon 8.8 this attribute is ignored, with a warning. To specify the default
            collation, use the standard <code>[xsl:]default-collation</code> attribute.
         </p>
         <p>The other attributes 
            control how the collation is defined. These attributes have the same effect as the corresponding
            query parameters in a URI starting with <code>http://saxon.sf.net/collation?</code>, and are
            described <a class="bodylink" href="../../extensibility/collation.html">here</a>.
         </p>
         <p>Specifically, these attributes are:</p>
         <table>
            <thead>
               <tr>
                  <td>
                     <p><b>attribute</b></p>
                  </td>
                  <td>
                     <p><b>values</b></p>
                  </td>
                  <td>
                     <p><b>effect</b></p>
                  </td>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td valign="top">
                     <p>class</p>
                  </td>
                  <td valign="top">
                     <p>fully-qualified Java class name of a class that
                        implements <code>java.util.Comparator</code>.
                     </p>
                  </td>
                  <td valign="top">
                     <p>This parameter should not be combined with any other parameter.
                        An instance of the requested class is created, and is used to perform
                        the comparisons. Note that if the collation is to be used
                        in functions such as contains() and starts-with(), this class must also be a
                        <code>java.text.RuleBasedCollator</code>. This approach allows a user-defined collation
                        to be implemented in Java.
                     </p>
                     <p>This option is also available on the .NET platform, but the class must implement
                        the Java interface java.util.Comparator.
                     </p>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <p>rules</p>
                  </td>
                  <td valign="top">
                     <p>details of the ordering required, using the syntax of the Java 
                        <code>RuleBasedCollator</code></p>
                  </td>
                  <td valign="top">
                     <p>This defines exactly how individual characters are collated.</p>
                     <p>This option is also available on the .NET platform, and if used will select a collation
                        provided using the GNU Classpath implementation of <code>RuleBasedCollator</code>. At the time of writing,
                        this is not 100% compatible with the Sun JDK implementation.
                     </p>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <p>lang</p>
                  </td>
                  <td valign="top">
                     <p>any value allowed for xml:lang, for example <code>en-US</code> for US English
                     </p>
                  </td>
                  <td valign="top">
                     <p>This is used to find the collation appropriate to a Java locale or .NET culture. 
                        The collation may be further tailored using the parameters described below.
                     </p>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <p>ignore-case</p>
                  </td>
                  <td valign="top">
                     <p>yes, no</p>
                  </td>
                  <td valign="top">
                     <p>Indicates whether the upper and lower case letters are considered
                        equivalent. Note that even when ignore-case is set to "no", case is less significant than
                        the actual letter value, so that "XPath" and "Xpath" will appear next to each other in the
                        sorted sequence.
                     </p>
                     <p>On the Java platform, setting ignore-case sets the collation strength to secondary.</p>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <p>ignore-modifiers</p>
                  </td>
                  <td valign="top">
                     <p>yes, no</p>
                  </td>
                  <td valign="top">
                     <p>Indicates whether non-spacing combining characters 
                        (such as accents and diacritical marks) are considered
                        significant. Note that even when ignore-modifiers is set to "no", modifiers are less significant than
                        the actual letter value, so that "Hofen" and "Höfen" will appear next to each other in the
                        sorted sequence.
                     </p>
                     <p>On the Java platform, setting ignore-case sets the collation strength to primary.</p>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <p>ignore-symbols</p>
                  </td>
                  <td valign="top">
                     <p>yes, no</p>
                  </td>
                  <td valign="top">
                     <p>Indicates whether symbols such as whitespace characters and punctuation
                        marks are to be ignored. This option currently has no effect on the Java platform, where
                        such symbols are in most cases ignored by default.
                     </p>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <p>ignore-width</p>
                  </td>
                  <td valign="top">
                     <p>yes, no</p>
                  </td>
                  <td valign="top">
                     <p>Indicates whether characters that differ only in width should be considered
                        equivalent.
                     </p>
                     <p>On the Java platform, setting ignore-width sets the collation strength to tertiary.</p>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <p>strength</p>
                  </td>
                  <td valign="top">
                     <p>primary, secondary, tertiary, or identical</p>
                  </td>
                  <td valign="top">
                     <p>Indicates the differences that are considered significant when comparing
                        two strings. A/B is a primary difference; A/a is a secondary difference;
                        a/ä is a tertiary difference (though this varies by language). So
                        if strength=primary then A=a is true; with strength=secondary 
                        then A=a is false but a=ä is true; with strength=tertiary
                        then a=ä is false.
                     </p>
                     <p>This option should not be combined with the ignore-XXX options. The setting "primary" is
                        equivalent to ignoring case, modifiers, and width; "secondary" is equivalent to ignoring
                        case and width; "tertiary" ignores width only; and "identical" ignores nothing.
                     </p>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <p>decomposition</p>
                  </td>
                  <td valign="top">
                     <p>none, standard, full</p>
                  </td>
                  <td valign="top">
                     <p>Indicates how the collator handles Unicode composed characters. See
                        the JDK documentation for details. This option is ignored on the .NET platform.
                     </p>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <p>alphanumeric</p>
                  </td>
                  <td valign="top">
                     <p>yes, no</p>
                  </td>
                  <td valign="top">
                     <p>If set to yes, the string is split into a sequence of alphabetic and numeric parts (a numeric
                        part is any consecutive sequence of ASCII digits; anything else is considered alphabetic). Eacn numeric part is considered
                        to be preceded by an alphabetic part even if it is zero-length. The parts are then compared pairwise: alphabetic parts
                        using the collation implied by the other query parameters, numeric parts using their numeric value. The result is that,
                        for example, AD985 collates before AD1066.
                     </p>
                     <p>Note that an alphanumeric collation cannot be used in conjunction with functions such as contains() and substring-before().</p>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <p>case-order</p>
                  </td>
                  <td valign="top">
                     <p>upper-first, lower-first</p>
                  </td>
                  <td valign="top">
                     <p>Indicates whether upper case letters collate before or after lower case
                        letters.
                     </p>
                  </td>
               </tr>
            </tbody>
         </table>
         <p>Sorting and comparison according to Unicode codepoints can be achieved by setting up a collator as 
            <code>&lt;saxon:collation name="unicode" class="net.sf.saxon.sort.CodepointCollator"/&gt;</code></p>
         <p><i>Note that a stylesheet containing a <code>saxon:collation</code> declaration cannot be
               compiled at this release, because the underlying Java classes are not serializable.</i></p>
         <table width="100%">
            <tr>
               <td>
                  <p align="right"><a class="nav" href="doctype.html">Next</a></p>
               </td>
            </tr>
         </table>
      </div>
   </body>
</html>