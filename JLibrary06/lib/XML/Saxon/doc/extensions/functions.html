<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
      <!--
		
		Generated at 2007-02-12T11:38:49.726Z-->
      <title>Saxonica: XSLT and XQuery Processing: Extension functions</title>
      <meta name="coverage" content="Worldwide">
      <meta name="copyright" content="Copyright Saxonica Ltd">
      <meta name="title" content="Saxonica: XSLT and XQuery Processing: Extension functions">
      <meta name="robots" content="noindex,nofollow">
      <link rel="stylesheet" href="../saxondocs.css" type="text/css">
   </head>
   <body class="main">
      <div id="rhDkBlueArea" style="position:absolute; width:123px; height:2593.5px; z-index:2; right: 0px; top: 0px; border: 1px none #000000; background-color: #C1CEDE; layer-background-color: #C1CEDE; visibility: visible;"></div>
      <div id="rhMdBlueArea" style="position:absolute; width:217px; height:2593.5px; z-index:2; right: 340px; top: 0px; border: 1px none #000000; background-color: #E4EEF0; layer-background-color: #E4EEF0; visibility: visible;"></div>
      <div id="lhLightArea" style="position:absolute; width:34px; height:2593.5px; z-index:2; left: 66px; top: 0px; border: 1px none #000000; background-color: #f6fffb; layer-background-color: #E4EEF0; visibility: visible;"></div>
      <div id="lhDkBlueArea" style="position:absolute; width:66px; height:2593.5px; z-index:2; left: 0px; top: 0px; border: 1px none #000000; background-color: #C1CEDE; layer-background-color: #C1CEDE; visibility: visible;"></div>
      <div id="LogoArea" style="position:absolute; width:340px; height:72px; z-index:3; right: 0px; top: 0px; border: 1px none #000000; visibility: visible;"><a href="../index/intro.html"><img src="../img/saxonica_logo.gif" width="340" height="72" border="0" alt="Saxonica.com"></a></div>
      <div id="MenuArea" style="position:absolute; width:157px; z-index:4; right: 33px; top: 114px; visibility: visible; background-color: #f6fffb; layer-background-color: #f6fffb; border: 1px solid #3D5B96; padding-top:9px; padding-left:15px;padding-right:11px; padding-bottom:9px;">
         <table width="164" border="0" bgcolor="#3D5B96" cellspacing="1" cellpadding="1">
            <tr bgcolor="#f6fffb">
               <td style="padding-left:5px"><a href="http://www.saxonica.com/">SAXONICA</a></td>
            </tr>
         </table><br><table border="0" cellspacing="0" cellpadding="1">
            <tr>
               <td class="title" colspan="2">Saxon Documentation</td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/spacer.gif" width="120" height="10" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../contents.html">Full Contents</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../index/intro.html">About Saxon</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../changes/intro.html">Changes in this Release</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../conditions/intro.html">Conditions of Use</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../using-xsl/intro.html">Using XSLT 2.0</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../using-xquery/intro.html">Using XQuery</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../sourcedocs/intro.html">Handling Source Documents</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../schema-processing/intro.html">XML Schema Processing</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../xpath-api/intro.html">XPath API for Java</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../dotnet/intro.html">Saxon on .NET</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../extensibility/intro.html">Extensibility</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../extensions/intro.html">Saxon Extensions</a></td>
            </tr>
            <tr>
               <td><img src="../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="intro.html">Introduction</a></td>
            </tr>
            <tr>
               <td><img src="../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="exslt.html">EXSLT Extensions</a></td>
            </tr>
            <tr>
               <td><img src="../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="attributes.html">Extension attributes (XSLT only)</a></td>
            </tr>
            <tr>
               <td><img src="../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="output-extras.html">Additional serialization parameters</a></td>
            </tr>
            <tr>
               <td>»&nbsp;</td>
               <td><a href="functions.html">Extension functions</a></td>
            </tr>
            <tr>
               <td><img src="../img/spacer.gif" width="10" height="5" border="0" alt="blank space"></td>
               <td><a href="instructions.html">Extension instructions</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../samples/intro.html">Sample Saxon Applications</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../sql-extension/intro.html">The Saxon SQL Extension</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../xsl-elements/intro.html">XSLT Elements</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../expressions/intro.html">XPath 2.0 Expression Syntax</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../functions/intro.html">Function Library</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
            <tr>
               <td colspan="2"><a href="../conformance/intro.html">Standards Conformance</a></td>
            </tr>
            <tr>
               <td colspan="2"><img src="../img/text_blue_dot.gif" width="164" height="1" border="0" alt=""></td>
            </tr>
         </table>
      </div>
      <div id="MainTextArea" style="position:absolute; height:100%; z-index:5; left: 130px; right: 260px; top: 110px; border: 1px none #000000; visibility: visible;">
         <h1>Extension functions</h1>
         <p><i>This section describes extension functions built in to the Saxon product. For information
               on writing your own extension functions, see 
               <a class="bodylink" href="../extensibility/functions.html">Writing extension functions (Java)</a> or
               <a class="bodylink" href="../extensibility/dotnetextensions.html">Writing extension functions (.NET)</a></i></p>
         <p>A Saxon extension function is invoked using a name such as <code>saxon:localname()</code>.
         </p>
         <p>The <code>saxon</code> prefix (or whatever prefix you choose to use) must be associated with the
            Saxon namespace URI <code>http://saxon.sf.net/</code>. 
         </p>
         <p>For example, to invoke the <code>saxon:evaluate()</code> function in XSLT, write:
         </p>
         <div class="codeblock" style="border: solid thin; background-color: #B1CCC7; padding: 2px"><pre><code>&lt;xsl:variable name="expression"
      select="concat('child::', $param, '[', $index, ']')"/&gt;
..
&lt;xsl:copy-of select="saxon:evaluate($expression)"
     xmlns:saxon="http://saxon.sf.net/"/&gt;
</code></pre></div>
         <p>The equivalent in XQuery is:</p>
         <div class="codeblock" style="border: solid thin; background-color: #B1CCC7; padding: 2px"><pre><code>declare namespace saxon="http://saxon.sf.net/";
declare variable $param as xs:string external;
declare variable $index as xs:integer external;
declare variable $expression :=
      concat('child::', $param, '[', $index, ']');
saxon:evaluate($expression)
</code></pre></div>
         <p>The extension functions supplied with the Saxon product are as follows:</p>
         <ul>
            <li>
               <p><a class="bodylink" href="functions/analyze-string.html">saxon:analyze-string()</a>: analyzes a string using a regular expression
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/base64binarytooctets.html">saxon:base64Binary-to-octets()</a>: converts an xs:base64Binary value to a sequence of octets
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/base64binarytostring.html">saxon:base64Binary-to-string()</a>: converts an xs:base64Binary value to a string, given its encoding
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/call.html">saxon:call()</a>: calls a first-class function previously created using saxon:function()
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/compile-stylesheet.html">saxon:compile-stylesheet()</a>: compiles a stylesheet that can subsequently be used as input to saxon:transform()
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/decimaldivide.html">saxon:decimal-divide()</a>: performs decimal division with user-specified precision
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/deepequal.html">saxon:deep-equal()</a>: compares two sequences for deep equality
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/discarddocument.html">saxon:discard-document()</a>: marks a document as being eligible for garbage collection
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/eval.html">saxon:eval()</a>: evaluates a stored expression created using saxon:expression
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/evaluate.html">saxon:evaluate()</a>: evaluates an XPath expression supplied dynamically as a string
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/evaluate-node.html">saxon:evaluate-node()</a>: evaluates an XPath expression held in a node of a source document
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/expression.html">saxon:expression()</a>: creates a stored expression for subsequent evaluation using saxon:eval()
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/find.html">saxon:find()</a>: finds items that match a given key value within an indexed sequence
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/for-each-group.html">saxon:for-each-group()</a>: groups a set of items on the basis of a grouping key
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/format-dateTime.html">saxon:format-dateTime()</a>: formats a date, time, or dateTime value
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/format-number.html">saxon:format-number()</a>: formats a number for output
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/function.html">saxon:function()</a>: creates a first-class function that can be passed as an argument to other functions
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/generateid.html">saxon:generate-id()</a>: generates a unique ASCII identifier for a node
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/getpseudoattribute.html">saxon:get-pseudo-attribute()</a>: parses the content of a processing instruction
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/hassamenodes.html">saxon:has-same-nodes()</a>: tests whether two sequences contain the same nodes
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/hexbinarytooctets.html">saxon:hexBinary-to-octets()</a>: converts an xs:hexBinary value to a sequence of octets
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/hexbinarytostring.html">saxon:hexBinary-to-string()</a>: converts an xs:hexBinary value to a string, given its encoding
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/highest.html">saxon:highest()</a>: finds the nodes having the highest value for some expression
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/index.html">saxon:index()</a>: creates an indexed sequence, allowing efficient retrieval using a key value
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/leading.html">saxon:leading()</a>: finds the values in a sequence up to the first one that doesn't match a condition
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/linenumber.html">saxon:line-number(node)</a>: gets the line number of a node in the source document
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/lowest.html">saxon:lowest()</a>: finds the nodes having the lowest value for some expression
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/namespace-node.html">saxon:namespace-node()</a>: creates a namespace node
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/octetstobase64binary.html">saxon:octets-to-base64Binary()</a>: converts a sequence of octets to an xs:base64Binary value
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/octetstohexbinary.html">saxon:octets-to-hexBinary()</a>: converts a sequence of octets to an xs:hexBinary value
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/parse.html">saxon:parse()</a>: parses an XML document supplied as a string
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/path.html">saxon:path()</a>: returns an XPath expression that identifies the context node
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/serialize.html">saxon:serialize()</a>: returns the XML representation of a document or element, as a string
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/sort.html">saxon:sort()</a>: sorts a sequence of nodes or atomic values
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/stringtobase64binary.html">saxon:string-to-base64Binary()</a>: encodes a string to an xs:base64Binary value, using a given encoding
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/stringtohexbinary.html">saxon:string-to-hexBinary()</a>: encodes a string to an xs:hexBinary value, using a given encoding
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/stringtoutf8.html">saxon:string-to-utf8()</a>: returns the UTF8 representation of a string
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/systemid.html">saxon:system-id()</a>: returns the system ID of the document containing the context node
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/transform.html">saxon:transform()</a>: Runs an XSLT transformation
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/try.html">saxon:try()</a>: allows recovery from dynamic errors
               </p>
            </li>
            <li>
               <p><a class="bodylink" href="functions/typeannotation.html">saxon:type-annotation()</a>: returns the type annotation of a node
               </p>
            </li>
         </ul>
         <p>The Java source code of these functions (which in most cases is extremely simple),
            can be used as an example for writing
            other user extension functions. It is found in class 
            <code>net.sf.saxon.functions.Extensions</code>. Source code is available in the
            download of Saxon-B from <a href="http://saxon.sf.net/" target="_blank" class="bodylink">SourceForge</a></p>
         <table width="100%">
            <tr>
               <td>
                  <p align="right"><a class="nav" href="functions/analyze-string.html">Next</a></p>
               </td>
            </tr>
         </table>
      </div>
   </body>
</html>