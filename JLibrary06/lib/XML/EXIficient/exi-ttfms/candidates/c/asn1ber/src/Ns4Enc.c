/**
 * This file was generated by the Objective Systems ASN1C Compiler
 * (http://www.obj-sys.com).  Version: 6.0B, Date: 18-Oct-2006.
 */
#include "Ns4.h"
#include "Ns13.h"
#include "Odf.h"
#include "Xforms.h"
#include "rtxsrc/rtxCommon.h"

/**************************************************************/
/*                                                            */
/*  Apply_design_mode                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Apply_design_mode (OSCTXT* pctxt,
   Apply_design_mode *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Apply_design_mode (OSCTXT* pctxt, Apply_design_mode value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Apply_design_mode_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Automatic_focus                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Automatic_focus (OSCTXT* pctxt,
   Automatic_focus *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Automatic_focus (OSCTXT* pctxt, Automatic_focus value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Automatic_focus_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_actuate                                              */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_actuate (OSCTXT* pctxt,
   Form_actuate *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 0)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_actuate (OSCTXT* pctxt, Form_actuate value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_actuate_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_allow_deletes                                        */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_allow_deletes (OSCTXT* pctxt,
   Form_allow_deletes *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_allow_deletes (OSCTXT* pctxt, Form_allow_deletes value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_allow_deletes_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_allow_inserts                                        */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_allow_inserts (OSCTXT* pctxt,
   Form_allow_inserts *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_allow_inserts (OSCTXT* pctxt, Form_allow_inserts value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_allow_inserts_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_allow_updates                                        */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_allow_updates (OSCTXT* pctxt,
   Form_allow_updates *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_allow_updates (OSCTXT* pctxt, Form_allow_updates value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_allow_updates_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_apply_filter                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_apply_filter (OSCTXT* pctxt,
   Form_apply_filter *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_apply_filter (OSCTXT* pctxt, Form_apply_filter value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_apply_filter_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_command_type                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_command_type (OSCTXT* pctxt,
   Form_command_type *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 2)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_command_type (OSCTXT* pctxt, Form_command_type value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_command_type_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_datasource                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_datasource (OSCTXT* pctxt,
   Form_datasource *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   ll0 = 0;
   switch (pvalue->t)
   {
      case 1:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
            xe_utf8str (pctxt, pvalue->u.alt, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 2:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
            xe_utf8str (pctxt, pvalue->u.alt_1, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   ll0 += ll1;

   return (ll0);
}

int XmlEnc_Form_datasource (OSCTXT* pctxt, Form_datasource* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, TRUE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   switch (pvalue->t)
   {
      case 1:
         /* encode alt */

         stat = rtXmlEncUTF8Str (pctxt, pvalue->u.alt, 0, 0);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 2:
         /* encode alt_1 */

         stat = rtXmlEncUTF8Str (pctxt, pvalue->u.alt_1, 0, 0);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      default: {
         char buf[40];
         os_snprintf (buf, 40, "%d", pvalue->t);
         return LOG_RTERRNEW1 (pctxt, RTERR_INVOPT, 
            rtxErrAddStrParm (pctxt, buf));
      }
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_escape_processing                                    */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_escape_processing (OSCTXT* pctxt,
   Form_escape_processing *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_escape_processing (OSCTXT* pctxt, 
   Form_escape_processing value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_escape_processing_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_ignore_result                                        */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_ignore_result (OSCTXT* pctxt,
   Form_ignore_result *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_ignore_result (OSCTXT* pctxt, Form_ignore_result value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_ignore_result_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_method_alt_1                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_method_alt_1 (OSCTXT* pctxt,
   Form_method_alt_1 *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 0)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_method_alt_1 (OSCTXT* pctxt, Form_method_alt_1 value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_method_alt_1_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_method_alt_2                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_method_alt_2 (OSCTXT* pctxt,
   Form_method_alt_2 *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 0)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_method_alt_2 (OSCTXT* pctxt, Form_method_alt_2 value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_method_alt_2_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_method                                               */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_method (OSCTXT* pctxt,
   Form_method *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   ll0 = 0;
   switch (pvalue->t)
   {
      case 1:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
            xe_utf8str (pctxt, pvalue->u.alt, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 2:
         if(pvalue->u.alt_1 < 0 || pvalue->u.alt_1 > 0)
            return LOG_RTERR (pctxt, RTERR_INVENUM);

         ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
            asn1E_Form_method_alt_1 (pctxt, &pvalue->u.alt_1, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 3:
         if(pvalue->u.alt_2 < 0 || pvalue->u.alt_2 > 0)
            return LOG_RTERR (pctxt, RTERR_INVENUM);

         ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
            asn1E_Form_method_alt_2 (pctxt, &pvalue->u.alt_2, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   ll0 += ll1;

   return (ll0);
}

int XmlEnc_Form_method (OSCTXT* pctxt, Form_method* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, TRUE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   switch (pvalue->t)
   {
      case 1:
         /* encode alt */

         stat = rtXmlEncUTF8Str (pctxt, pvalue->u.alt, 0, 0);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 2:
         /* encode alt_1 */

         if(pvalue->u.alt_1 < 0 || pvalue->u.alt_1 > 0)
            return LOG_RTERR (pctxt, RTERR_INVENUM);

         stat = XmlEnc_Form_method_alt_1 (pctxt, pvalue->u.alt_1
            , 0, nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 3:
         /* encode alt_2 */

         if(pvalue->u.alt_2 < 0 || pvalue->u.alt_2 > 0)
            return LOG_RTERR (pctxt, RTERR_INVENUM);

         stat = XmlEnc_Form_method_alt_2 (pctxt, pvalue->u.alt_2
            , 0, nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      default: {
         char buf[40];
         os_snprintf (buf, 40, "%d", pvalue->t);
         return LOG_RTERRNEW1 (pctxt, RTERR_INVOPT, 
            rtxErrAddStrParm (pctxt, buf));
      }
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_navigation_mode                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_navigation_mode (OSCTXT* pctxt,
   Form_navigation_mode *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 2)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_navigation_mode (OSCTXT* pctxt, Form_navigation_mode value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_navigation_mode_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_tab_cycle                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_tab_cycle (OSCTXT* pctxt,
   Form_tab_cycle *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 2)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Form_tab_cycle (OSCTXT* pctxt, Form_tab_cycle value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Form_tab_cycle_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Property_value_type                                       */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Property_value_type (OSCTXT* pctxt,
   Property_value_type *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 7)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Property_value_type (OSCTXT* pctxt, Property_value_type value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Property_value_type_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Property                                                  */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Property (OSCTXT* pctxt,
   Property *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode value_type */

   if(pvalue->value_type < 0 || pvalue->value_type > 7)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
      asn1E_Property_value_type (pctxt, &pvalue->value_type, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         asn1E_Ns13_Value (pctxt, (Ns13_Value*)&pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode time_value */

   if (pvalue->m.time_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Ns13_Time_value (pctxt, (Ns13_Time_value)pvalue->time_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode string_value */

   if (pvalue->m.string_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         asn1E_Ns13_String_value (pctxt, (Ns13_String_value)pvalue->string_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode date_value */

   if (pvalue->m.date_valuePresent) {
      if (pvalue->date_value == NULL) {
         rtxErrAddStrParm (pctxt, "pvalue->date_value");
         return LOG_RTERR (pctxt, RTERR_NULLPTR);
      }
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|3,
         asn1E_Ns13_Date_value (pctxt, (Ns13_Date_value*)pvalue->date_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode currency */

   if (pvalue->m.currencyPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Ns13_Currency (pctxt, (Ns13_Currency)pvalue->currency, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode boolean_value */

   if (pvalue->m.boolean_valuePresent) {
      if(pvalue->boolean_value < 0 || pvalue->boolean_value > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         asn1E_Ns13_Boolean_value (pctxt, (Ns13_Boolean_value*)&pvalue->boolean_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode property_name */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
      xe_utf8str (pctxt, pvalue->property_name, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Property (OSCTXT* pctxt, Property* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:property-name=\""), 20);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->property_name, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.boolean_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:boolean-value=\""), 21);

      if(pvalue->boolean_value < 0 || pvalue->boolean_value > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Ns13_Boolean_value (pctxt, pvalue->boolean_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.currencyPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:currency=\""), 16);

      stat = XmlEnc_Ns13_Currency (pctxt, pvalue->currency, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.date_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:date-value=\""), 18);

      stat = XmlEnc_Ns13_Date_value (pctxt, pvalue->date_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.string_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:string-value=\""), 20);

      stat = XmlEnc_Ns13_String_value (pctxt, pvalue->string_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.time_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:time-value=\""), 18);

      stat = XmlEnc_Ns13_Time_value (pctxt, pvalue->time_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:value=\""), 13);

      stat = XmlEnc_Ns13_Value (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:value-type=\""), 18);

   if(pvalue->value_type < 0 || pvalue->value_type > 7)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   stat = XmlEnc_Property_value_type (pctxt, pvalue->value_type, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '"');

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  List_property_value_type                                  */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_List_property_value_type (OSCTXT* pctxt,
   List_property_value_type *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 7)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_List_property_value_type (OSCTXT* pctxt, 
   List_property_value_type value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      List_property_value_type_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  List_value                                                */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_List_value (OSCTXT* pctxt,
   List_value *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Ns13_Value (pctxt, (Ns13_Value*)&pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode time_value */

   if (pvalue->m.time_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         asn1E_Ns13_Time_value (pctxt, (Ns13_Time_value)pvalue->time_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode string_value */

   if (pvalue->m.string_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         asn1E_Ns13_String_value (pctxt, (Ns13_String_value)pvalue->string_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode date_value */

   if (pvalue->m.date_valuePresent) {
      if (pvalue->date_value == NULL) {
         rtxErrAddStrParm (pctxt, "pvalue->date_value");
         return LOG_RTERR (pctxt, RTERR_NULLPTR);
      }
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|2,
         asn1E_Ns13_Date_value (pctxt, (Ns13_Date_value*)pvalue->date_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode currency */

   if (pvalue->m.currencyPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         asn1E_Ns13_Currency (pctxt, (Ns13_Currency)pvalue->currency, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode boolean_value */

   if (pvalue->m.boolean_valuePresent) {
      if(pvalue->boolean_value < 0 || pvalue->boolean_value > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Ns13_Boolean_value (pctxt, (Ns13_Boolean_value*)&pvalue->boolean_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_List_value (OSCTXT* pctxt, List_value* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.boolean_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:boolean-value=\""), 21);

      if(pvalue->boolean_value < 0 || pvalue->boolean_value > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Ns13_Boolean_value (pctxt, pvalue->boolean_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.currencyPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:currency=\""), 16);

      stat = XmlEnc_Ns13_Currency (pctxt, pvalue->currency, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.date_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:date-value=\""), 18);

      stat = XmlEnc_Ns13_Date_value (pctxt, pvalue->date_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.string_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:string-value=\""), 20);

      stat = XmlEnc_Ns13_String_value (pctxt, pvalue->string_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.time_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:time-value=\""), 18);

      stat = XmlEnc_Ns13_Time_value (pctxt, pvalue->time_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:value=\""), 13);

      stat = XmlEnc_Ns13_Value (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  List_property                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_List_property (OSCTXT* pctxt,
   List_property *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode list_value */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|2,
      asn1E_List_value (pctxt, &pvalue->list_value, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode value_type */

   if(pvalue->value_type < 0 || pvalue->value_type > 7)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
      asn1E_List_property_value_type (pctxt, &pvalue->value_type, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode property_name */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
      xe_utf8str (pctxt, pvalue->property_name, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_List_property (OSCTXT* pctxt, List_property* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:property-name=\""), 20);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->property_name, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:value-type=\""), 18);

   if(pvalue->value_type < 0 || pvalue->value_type > 7)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   stat = XmlEnc_List_property_value_type (pctxt, pvalue->value_type, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '"');

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode list_value */

   stat = XmlEnc_List_value (pctxt, &pvalue->list_value
      , OSUTF8("list-value"), nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Properties_element                                        */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Properties_element (OSCTXT* pctxt,
   Properties_element *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   ll0 = 0;
   switch (pvalue->t)
   {
      case 1:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|0,
            asn1E_Property (pctxt, pvalue->u.property, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 2:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|1,
            asn1E_List_property (pctxt, pvalue->u.list_property, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   ll0 += ll1;

   return (ll0);
}

int XmlEnc_Properties_element (OSCTXT* pctxt, Properties_element* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, TRUE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   switch (pvalue->t)
   {
      case 1:
         /* encode property */

         stat = XmlEnc_Property (pctxt, pvalue->u.property
            , OSUTF8("property"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 2:
         /* encode list_property */

         stat = XmlEnc_List_property (pctxt, pvalue->u.list_property
            , OSUTF8("list-property"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      default: {
         char buf[40];
         os_snprintf (buf, 40, "%d", pvalue->t);
         return LOG_RTERRNEW1 (pctxt, RTERR_INVOPT, 
            rtxErrAddStrParm (pctxt, buf));
      }
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Properties                                                */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Properties (OSCTXT* pctxt,
   Properties *pvalue, ASN1TagType tagging)
{
   OSRTDListNode* pnode1;
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   pnode1 = pvalue->tail;
   while (0 != pnode1) {
      ll = asn1E_Properties_element (pctxt, ((Properties_element*)pnode1->data), ASN1EXPL);
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;

      pnode1 = pnode1->prev;
   }
   ll1 = xe_tag_len (pctxt, TM_CTXT|TM_CONS|0, ll1);
   if (ll1 < 0) return LOG_RTERR (pctxt, ll1);

   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Properties (OSCTXT* pctxt, Properties* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (elemName != 0) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, TRUE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   { OSRTDListNode* pnode = pvalue->head;
   while (0 != pnode) {
      stat = XmlEnc_Properties_element (pctxt, 
         ((Properties_element*)pnode->data), 0, nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
      pnode = pnode->next;
   }}
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Text_convert_empty_to_null                                */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Text_convert_empty_to_null (OSCTXT* pctxt,
   Text_convert_empty_to_null *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Text_convert_empty_to_null (OSCTXT* pctxt, 
   Text_convert_empty_to_null value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Text_convert_empty_to_null_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Text_disabled                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Text_disabled (OSCTXT* pctxt,
   Text_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Text_disabled (OSCTXT* pctxt, Text_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Text_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Text_printable                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Text_printable (OSCTXT* pctxt,
   Text_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Text_printable (OSCTXT* pctxt, Text_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Text_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Text_readonly                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Text_readonly (OSCTXT* pctxt,
   Text_readonly *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Text_readonly (OSCTXT* pctxt, Text_readonly value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Text_readonly_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Text_tab_stop                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Text_tab_stop (OSCTXT* pctxt,
   Text_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Text_tab_stop (OSCTXT* pctxt, Text_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Text_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Text                                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Ns4_Text (OSCTXT* pctxt,
   Ns4_Text *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|16,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|15,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         asn1E_Text_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode readonly */

   if (pvalue->m.readonlyPresent) {
      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         asn1E_Text_readonly (pctxt, &pvalue->readonly, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         asn1E_Text_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_length */

   if (pvalue->m.max_lengthPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_unsigned (pctxt, &pvalue->max_length, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Text_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode data_field */

   if (pvalue->m.data_fieldPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         xe_utf8str (pctxt, pvalue->data_field, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode current_value */

   if (pvalue->m.current_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->current_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode convert_empty_to_null */

   if (pvalue->m.convert_empty_to_nullPresent) {
      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Text_convert_empty_to_null (pctxt, &pvalue->convert_empty_to_null, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Ns4_Text (OSCTXT* pctxt, Ns4_Text* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.convert_empty_to_nullPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:convert-empty-to-null=\""), 28);

      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null
          > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Text_convert_empty_to_null (pctxt, pvalue->
         convert_empty_to_null, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.current_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:current-value=\""), 20);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->current_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.data_fieldPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:data-field=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->data_field, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Text_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.max_lengthPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->max_length, OSUTF8("ns4:max-length"), 14);
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Text_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.readonlyPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:readonly=\""), 15);

      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Text_readonly (pctxt, pvalue->readonly, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Text_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Textarea_convert_empty_to_null                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Textarea_convert_empty_to_null (OSCTXT* pctxt,
   Textarea_convert_empty_to_null *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Textarea_convert_empty_to_null (OSCTXT* pctxt, 
   Textarea_convert_empty_to_null value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Textarea_convert_empty_to_null_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Textarea_disabled                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Textarea_disabled (OSCTXT* pctxt,
   Textarea_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Textarea_disabled (OSCTXT* pctxt, Textarea_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Textarea_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Textarea_printable                                        */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Textarea_printable (OSCTXT* pctxt,
   Textarea_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Textarea_printable (OSCTXT* pctxt, Textarea_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Textarea_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Textarea_readonly                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Textarea_readonly (OSCTXT* pctxt,
   Textarea_readonly *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Textarea_readonly (OSCTXT* pctxt, Textarea_readonly value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Textarea_readonly_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Textarea_tab_stop                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Textarea_tab_stop (OSCTXT* pctxt,
   Textarea_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Textarea_tab_stop (OSCTXT* pctxt, Textarea_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Textarea_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Textarea                                                  */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Textarea (OSCTXT* pctxt,
   Textarea *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;
   OSRTDListNode* pnode2;
   int ll2 = 0;

   /* encode p_list */

   pnode2 = pvalue->p_list.tail;
   while (0 != pnode2) {
      ll = asn1E_Odf_P (pctxt, (Odf_P*)((Odf_P*)pnode2->data), ASN1EXPL);
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll2 += ll;

      pnode2 = pnode2->prev;
   }
   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|17, ll2);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   else { ll1 += ll; ll2 = 0; }

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|16,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|15,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         asn1E_Textarea_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode readonly */

   if (pvalue->m.readonlyPresent) {
      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         asn1E_Textarea_readonly (pctxt, &pvalue->readonly, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         asn1E_Textarea_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_length */

   if (pvalue->m.max_lengthPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_unsigned (pctxt, &pvalue->max_length, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Textarea_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode data_field */

   if (pvalue->m.data_fieldPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         xe_utf8str (pctxt, pvalue->data_field, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode current_value */

   if (pvalue->m.current_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->current_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode convert_empty_to_null */

   if (pvalue->m.convert_empty_to_nullPresent) {
      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Textarea_convert_empty_to_null (pctxt, &pvalue->convert_empty_to_null, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Textarea (OSCTXT* pctxt, Textarea* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.convert_empty_to_nullPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:convert-empty-to-null=\""), 28);

      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null
          > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Textarea_convert_empty_to_null (pctxt, pvalue->
         convert_empty_to_null, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.current_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:current-value=\""), 20);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->current_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.data_fieldPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:data-field=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->data_field, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Textarea_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.max_lengthPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->max_length, OSUTF8("ns4:max-length"), 14);
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Textarea_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.readonlyPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:readonly=\""), 15);

      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Textarea_readonly (pctxt, pvalue->readonly, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Textarea_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode p_list */

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   { OSRTDListNode* pnode = pvalue->p_list.head;
   while (0 != pnode) {
      stat = XmlEnc_Odf_P (pctxt, ((Odf_P*)pnode->data)
         , OSUTF8("p"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
      pnode = pnode->next;
   }}
   nsPrefix = savedPrefix;
   }

   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Formatted_text_convert_empty_to_null                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Formatted_text_convert_empty_to_null (OSCTXT* pctxt,
   Formatted_text_convert_empty_to_null *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Formatted_text_convert_empty_to_null (OSCTXT* pctxt, 
   Formatted_text_convert_empty_to_null value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Formatted_text_convert_empty_to_null_ToString (value)
         , elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Formatted_text_disabled                                   */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Formatted_text_disabled (OSCTXT* pctxt,
   Formatted_text_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Formatted_text_disabled (OSCTXT* pctxt, 
   Formatted_text_disabled value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Formatted_text_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Formatted_text_printable                                  */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Formatted_text_printable (OSCTXT* pctxt,
   Formatted_text_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Formatted_text_printable (OSCTXT* pctxt, 
   Formatted_text_printable value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Formatted_text_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Formatted_text_readonly                                   */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Formatted_text_readonly (OSCTXT* pctxt,
   Formatted_text_readonly *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Formatted_text_readonly (OSCTXT* pctxt, 
   Formatted_text_readonly value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Formatted_text_readonly_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Formatted_text_tab_stop                                   */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Formatted_text_tab_stop (OSCTXT* pctxt,
   Formatted_text_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Formatted_text_tab_stop (OSCTXT* pctxt, 
   Formatted_text_tab_stop value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Formatted_text_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Formatted_text_validation                                 */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Formatted_text_validation (OSCTXT* pctxt,
   Formatted_text_validation *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Formatted_text_validation (OSCTXT* pctxt, 
   Formatted_text_validation value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Formatted_text_validation_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Formatted_text                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Formatted_text (OSCTXT* pctxt,
   Formatted_text *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|19,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|18,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|17,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode validation */

   if (pvalue->m.validationPresent) {
      if(pvalue->validation < 0 || pvalue->validation > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|16,
         asn1E_Formatted_text_validation (pctxt, &pvalue->validation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|15,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         asn1E_Formatted_text_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode readonly */

   if (pvalue->m.readonlyPresent) {
      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         asn1E_Formatted_text_readonly (pctxt, &pvalue->readonly, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         asn1E_Formatted_text_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode min_value */

   if (pvalue->m.min_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_utf8str (pctxt, pvalue->min_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_value */

   if (pvalue->m.max_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         xe_utf8str (pctxt, pvalue->max_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_length */

   if (pvalue->m.max_lengthPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_unsigned (pctxt, &pvalue->max_length, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Formatted_text_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode data_field */

   if (pvalue->m.data_fieldPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         xe_utf8str (pctxt, pvalue->data_field, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode current_value */

   if (pvalue->m.current_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->current_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode convert_empty_to_null */

   if (pvalue->m.convert_empty_to_nullPresent) {
      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Formatted_text_convert_empty_to_null (pctxt, &pvalue->convert_empty_to_null, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Formatted_text (OSCTXT* pctxt, Formatted_text* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.convert_empty_to_nullPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:convert-empty-to-null=\""), 28);

      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null
          > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Formatted_text_convert_empty_to_null (pctxt, pvalue->
         convert_empty_to_null, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.current_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:current-value=\""), 20);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->current_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.data_fieldPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:data-field=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->data_field, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Formatted_text_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.max_lengthPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->max_length, OSUTF8("ns4:max-length"), 14);
   }

   if (pvalue->m.max_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:max-value=\""), 16);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->max_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.min_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:min-value=\""), 16);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->min_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Formatted_text_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.readonlyPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:readonly=\""), 15);

      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Formatted_text_readonly (pctxt, pvalue->readonly, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Formatted_text_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.validationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:validation=\""), 17);

      if(pvalue->validation < 0 || pvalue->validation > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Formatted_text_validation (pctxt, pvalue->validation
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Number_convert_empty_to_null                              */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Number_convert_empty_to_null (OSCTXT* pctxt,
   Number_convert_empty_to_null *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Number_convert_empty_to_null (OSCTXT* pctxt, 
   Number_convert_empty_to_null value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Number_convert_empty_to_null_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Number_disabled                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Number_disabled (OSCTXT* pctxt,
   Number_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Number_disabled (OSCTXT* pctxt, Number_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Number_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Number_printable                                          */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Number_printable (OSCTXT* pctxt,
   Number_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Number_printable (OSCTXT* pctxt, Number_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Number_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Number_readonly                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Number_readonly (OSCTXT* pctxt,
   Number_readonly *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Number_readonly (OSCTXT* pctxt, Number_readonly value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Number_readonly_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Number_tab_stop                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Number_tab_stop (OSCTXT* pctxt,
   Number_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Number_tab_stop (OSCTXT* pctxt, Number_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Number_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Number                                                    */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Ns4_Number (OSCTXT* pctxt,
   Ns4_Number *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|18,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|17,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|16,
         xe_real (pctxt, &pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|15,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         asn1E_Number_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode readonly */

   if (pvalue->m.readonlyPresent) {
      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         asn1E_Number_readonly (pctxt, &pvalue->readonly, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         asn1E_Number_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode min_value */

   if (pvalue->m.min_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_real (pctxt, &pvalue->min_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_value */

   if (pvalue->m.max_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         xe_real (pctxt, &pvalue->max_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_length */

   if (pvalue->m.max_lengthPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_unsigned (pctxt, &pvalue->max_length, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Number_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode data_field */

   if (pvalue->m.data_fieldPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         xe_utf8str (pctxt, pvalue->data_field, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode current_value */

   if (pvalue->m.current_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_real (pctxt, &pvalue->current_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode convert_empty_to_null */

   if (pvalue->m.convert_empty_to_nullPresent) {
      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Number_convert_empty_to_null (pctxt, &pvalue->convert_empty_to_null, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Ns4_Number (OSCTXT* pctxt, Ns4_Number* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.convert_empty_to_nullPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:convert-empty-to-null=\""), 28);

      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null
          > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Number_convert_empty_to_null (pctxt, pvalue->
         convert_empty_to_null, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.current_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:current-value=\""), 20);

      stat = rtXmlEncDouble (pctxt, pvalue->current_value, 0, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.data_fieldPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:data-field=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->data_field, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Number_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.max_lengthPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->max_length, OSUTF8("ns4:max-length"), 14);
   }

   if (pvalue->m.max_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:max-value=\""), 16);

      stat = rtXmlEncDouble (pctxt, pvalue->max_value, 0, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.min_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:min-value=\""), 16);

      stat = rtXmlEncDouble (pctxt, pvalue->min_value, 0, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Number_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.readonlyPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:readonly=\""), 15);

      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Number_readonly (pctxt, pvalue->readonly, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Number_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncDouble (pctxt, pvalue->value, 0, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Date_convert_empty_to_null                                */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Date_convert_empty_to_null (OSCTXT* pctxt,
   Date_convert_empty_to_null *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Date_convert_empty_to_null (OSCTXT* pctxt, 
   Date_convert_empty_to_null value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Date_convert_empty_to_null_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Date_disabled                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Date_disabled (OSCTXT* pctxt,
   Date_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Date_disabled (OSCTXT* pctxt, Date_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Date_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Date_printable                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Date_printable (OSCTXT* pctxt,
   Date_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Date_printable (OSCTXT* pctxt, Date_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Date_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Date_readonly                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Date_readonly (OSCTXT* pctxt,
   Date_readonly *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Date_readonly (OSCTXT* pctxt, Date_readonly value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Date_readonly_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Date_tab_stop                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Date_tab_stop (OSCTXT* pctxt,
   Date_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Date_tab_stop (OSCTXT* pctxt, Date_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Date_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Date                                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Ns4_Date (OSCTXT* pctxt,
   Ns4_Date *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|18,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|17,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|16,
         xe_charstr (pctxt, pvalue->value, ASN1IMPL, TM_UNIV|TM_PRIM|26));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|15,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         asn1E_Date_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode readonly */

   if (pvalue->m.readonlyPresent) {
      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         asn1E_Date_readonly (pctxt, &pvalue->readonly, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         asn1E_Date_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode min_value */

   if (pvalue->m.min_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_charstr (pctxt, pvalue->min_value, ASN1IMPL, TM_UNIV|TM_PRIM|26));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_value */

   if (pvalue->m.max_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         xe_charstr (pctxt, pvalue->max_value, ASN1IMPL, TM_UNIV|TM_PRIM|26));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_length */

   if (pvalue->m.max_lengthPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_unsigned (pctxt, &pvalue->max_length, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Date_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode data_field */

   if (pvalue->m.data_fieldPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         xe_utf8str (pctxt, pvalue->data_field, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode current_value */

   if (pvalue->m.current_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_charstr (pctxt, pvalue->current_value, ASN1IMPL, TM_UNIV|TM_PRIM|26));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode convert_empty_to_null */

   if (pvalue->m.convert_empty_to_nullPresent) {
      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Date_convert_empty_to_null (pctxt, &pvalue->convert_empty_to_null, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Ns4_Date (OSCTXT* pctxt, Ns4_Date* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.convert_empty_to_nullPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:convert-empty-to-null=\""), 28);

      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null
          > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Date_convert_empty_to_null (pctxt, pvalue->
         convert_empty_to_null, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.current_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:current-value=\""), 20);

      stat = rtXmlEncUTF8Str (pctxt, (const OSUTF8CHAR*)pvalue->current_value
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.data_fieldPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:data-field=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->data_field, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Date_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.max_lengthPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->max_length, OSUTF8("ns4:max-length"), 14);
   }

   if (pvalue->m.max_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:max-value=\""), 16);

      stat = rtXmlEncUTF8Str (pctxt, (const OSUTF8CHAR*)pvalue->max_value
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.min_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:min-value=\""), 16);

      stat = rtXmlEncUTF8Str (pctxt, (const OSUTF8CHAR*)pvalue->min_value
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Date_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.readonlyPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:readonly=\""), 15);

      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Date_readonly (pctxt, pvalue->readonly, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Date_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, (const OSUTF8CHAR*)pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Combobox_auto_complete                                    */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Combobox_auto_complete (OSCTXT* pctxt,
   Combobox_auto_complete *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Combobox_auto_complete (OSCTXT* pctxt, 
   Combobox_auto_complete value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Combobox_auto_complete_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Combobox_convert_empty_to_null                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Combobox_convert_empty_to_null (OSCTXT* pctxt,
   Combobox_convert_empty_to_null *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Combobox_convert_empty_to_null (OSCTXT* pctxt, 
   Combobox_convert_empty_to_null value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Combobox_convert_empty_to_null_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Combobox_disabled                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Combobox_disabled (OSCTXT* pctxt,
   Combobox_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Combobox_disabled (OSCTXT* pctxt, Combobox_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Combobox_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Combobox_dropdown                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Combobox_dropdown (OSCTXT* pctxt,
   Combobox_dropdown *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Combobox_dropdown (OSCTXT* pctxt, Combobox_dropdown value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Combobox_dropdown_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Combobox_list_source_type                                 */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Combobox_list_source_type (OSCTXT* pctxt,
   Combobox_list_source_type *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 5)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Combobox_list_source_type (OSCTXT* pctxt, 
   Combobox_list_source_type value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Combobox_list_source_type_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Combobox_printable                                        */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Combobox_printable (OSCTXT* pctxt,
   Combobox_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Combobox_printable (OSCTXT* pctxt, Combobox_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Combobox_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Combobox_readonly                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Combobox_readonly (OSCTXT* pctxt,
   Combobox_readonly *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Combobox_readonly (OSCTXT* pctxt, Combobox_readonly value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Combobox_readonly_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Combobox_tab_stop                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Combobox_tab_stop (OSCTXT* pctxt,
   Combobox_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Combobox_tab_stop (OSCTXT* pctxt, Combobox_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Combobox_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Item                                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Item (OSCTXT* pctxt,
   Item *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode label */

   if (pvalue->m.labelPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         xe_utf8str (pctxt, pvalue->label, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Item (OSCTXT* pctxt, Item* pvalue, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.labelPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:label=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->label, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Combobox                                                  */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Combobox (OSCTXT* pctxt,
   Combobox *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;
   OSRTDListNode* pnode2;
   int ll2 = 0;

   /* encode item_list */

   pnode2 = pvalue->item_list.tail;
   while (0 != pnode2) {
      ll = asn1E_Item (pctxt, ((Item*)pnode2->data), ASN1EXPL);
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll2 += ll;

      pnode2 = pnode2->prev;
   }
   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|22, ll2);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   else { ll1 += ll; ll2 = 0; }

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|21,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|20,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|19,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|18,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|17,
         asn1E_Combobox_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|16,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode size */

   if (pvalue->m.sizePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|15,
         xe_unsigned (pctxt, &pvalue->size, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode readonly */

   if (pvalue->m.readonlyPresent) {
      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         asn1E_Combobox_readonly (pctxt, &pvalue->readonly, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         asn1E_Combobox_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_length */

   if (pvalue->m.max_lengthPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         xe_unsigned (pctxt, &pvalue->max_length, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode list_source_type */

   if (pvalue->m.list_source_typePresent) {
      if(pvalue->list_source_type < 0 || pvalue->list_source_type > 5)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         asn1E_Combobox_list_source_type (pctxt, &pvalue->list_source_type, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode list_source */

   if (pvalue->m.list_sourcePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_utf8str (pctxt, pvalue->list_source, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode dropdown */

   if (pvalue->m.dropdownPresent) {
      if(pvalue->dropdown < 0 || pvalue->dropdown > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         asn1E_Combobox_dropdown (pctxt, &pvalue->dropdown, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         asn1E_Combobox_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode data_field */

   if (pvalue->m.data_fieldPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         xe_utf8str (pctxt, pvalue->data_field, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode current_value */

   if (pvalue->m.current_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         xe_utf8str (pctxt, pvalue->current_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode convert_empty_to_null */

   if (pvalue->m.convert_empty_to_nullPresent) {
      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         asn1E_Combobox_convert_empty_to_null (pctxt, &pvalue->convert_empty_to_null, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode auto_complete */

   if (pvalue->m.auto_completePresent) {
      if(pvalue->auto_complete < 0 || pvalue->auto_complete > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         asn1E_Combobox_auto_complete (pctxt, &pvalue->auto_complete, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Combobox (OSCTXT* pctxt, Combobox* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.auto_completePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:auto-complete=\""), 20);

      if(pvalue->auto_complete < 0 || pvalue->auto_complete > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Combobox_auto_complete (pctxt, pvalue->auto_complete
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.convert_empty_to_nullPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:convert-empty-to-null=\""), 28);

      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null
          > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Combobox_convert_empty_to_null (pctxt, pvalue->
         convert_empty_to_null, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.current_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:current-value=\""), 20);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->current_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.data_fieldPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:data-field=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->data_field, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Combobox_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.dropdownPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:dropdown=\""), 15);

      if(pvalue->dropdown < 0 || pvalue->dropdown > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Combobox_dropdown (pctxt, pvalue->dropdown, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.list_sourcePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:list-source=\""), 18);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->list_source, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.list_source_typePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:list-source-type=\""), 23);

      if(pvalue->list_source_type < 0 || pvalue->list_source_type > 5)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Combobox_list_source_type (pctxt, pvalue->list_source_type
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.max_lengthPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->max_length, OSUTF8("ns4:max-length"), 14);
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Combobox_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.readonlyPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:readonly=\""), 15);

      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Combobox_readonly (pctxt, pvalue->readonly, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.sizePresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->size, OSUTF8("ns4:size"), 8);
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Combobox_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode item_list */

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   { OSRTDListNode* pnode = pvalue->item_list.head;
   while (0 != pnode) {
      stat = XmlEnc_Item (pctxt, ((Item*)pnode->data)
         , OSUTF8("item"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
      pnode = pnode->next;
   }}
   nsPrefix = savedPrefix;
   }

   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Listbox_disabled                                          */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Listbox_disabled (OSCTXT* pctxt,
   Listbox_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Listbox_disabled (OSCTXT* pctxt, Listbox_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Listbox_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Listbox_dropdown                                          */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Listbox_dropdown (OSCTXT* pctxt,
   Listbox_dropdown *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Listbox_dropdown (OSCTXT* pctxt, Listbox_dropdown value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Listbox_dropdown_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Listbox_list_source_type                                  */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Listbox_list_source_type (OSCTXT* pctxt,
   Listbox_list_source_type *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 5)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Listbox_list_source_type (OSCTXT* pctxt, 
   Listbox_list_source_type value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Listbox_list_source_type_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Listbox_multiple                                          */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Listbox_multiple (OSCTXT* pctxt,
   Listbox_multiple *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Listbox_multiple (OSCTXT* pctxt, Listbox_multiple value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Listbox_multiple_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Listbox_printable                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Listbox_printable (OSCTXT* pctxt,
   Listbox_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Listbox_printable (OSCTXT* pctxt, Listbox_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Listbox_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Listbox_tab_stop                                          */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Listbox_tab_stop (OSCTXT* pctxt,
   Listbox_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Listbox_tab_stop (OSCTXT* pctxt, Listbox_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Listbox_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Option_current_selected                                   */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Option_current_selected (OSCTXT* pctxt,
   Option_current_selected *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Option_current_selected (OSCTXT* pctxt, 
   Option_current_selected value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Option_current_selected_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Option_selected                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Option_selected (OSCTXT* pctxt,
   Option_selected *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Option_selected (OSCTXT* pctxt, Option_selected value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Option_selected_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Option                                                    */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Option (OSCTXT* pctxt,
   Option *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode selected */

   if (pvalue->m.selectedPresent) {
      if(pvalue->selected < 0 || pvalue->selected > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Option_selected (pctxt, &pvalue->selected, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode label */

   if (pvalue->m.labelPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->label, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode current_selected */

   if (pvalue->m.current_selectedPresent) {
      if(pvalue->current_selected < 0 || pvalue->current_selected > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Option_current_selected (pctxt, &pvalue->current_selected, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Option (OSCTXT* pctxt, Option* pvalue, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.current_selectedPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:current-selected=\""), 23);

      if(pvalue->current_selected < 0 || pvalue->current_selected > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Option_current_selected (pctxt, pvalue->current_selected
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.labelPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:label=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->label, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.selectedPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:selected=\""), 15);

      if(pvalue->selected < 0 || pvalue->selected > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Option_selected (pctxt, pvalue->selected, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Listbox                                                   */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Listbox (OSCTXT* pctxt,
   Listbox *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;
   OSRTDListNode* pnode2;
   int ll2 = 0;

   /* encode option_list */

   pnode2 = pvalue->option_list.tail;
   while (0 != pnode2) {
      ll = asn1E_Option (pctxt, ((Option*)pnode2->data), ASN1EXPL);
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll2 += ll;

      pnode2 = pnode2->prev;
   }
   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|19, ll2);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   else { ll1 += ll; ll2 = 0; }

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|18,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|17,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode xforms_list_source */

   if (pvalue->m.xforms_list_sourcePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|16,
         xe_utf8str (pctxt, pvalue->xforms_list_source, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|15,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         asn1E_Listbox_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode size */

   if (pvalue->m.sizePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         xe_unsigned (pctxt, &pvalue->size, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         asn1E_Listbox_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode multiple */

   if (pvalue->m.multiplePresent) {
      if(pvalue->multiple < 0 || pvalue->multiple > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         asn1E_Listbox_multiple (pctxt, &pvalue->multiple, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode list_source_type */

   if (pvalue->m.list_source_typePresent) {
      if(pvalue->list_source_type < 0 || pvalue->list_source_type > 5)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         asn1E_Listbox_list_source_type (pctxt, &pvalue->list_source_type, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode list_source */

   if (pvalue->m.list_sourcePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_utf8str (pctxt, pvalue->list_source, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode dropdown */

   if (pvalue->m.dropdownPresent) {
      if(pvalue->dropdown < 0 || pvalue->dropdown > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Listbox_dropdown (pctxt, &pvalue->dropdown, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         asn1E_Listbox_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode data_field */

   if (pvalue->m.data_fieldPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->data_field, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bound_column */

   if (pvalue->m.bound_columnPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->bound_column, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Listbox (OSCTXT* pctxt, Listbox* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.bound_columnPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:bound-column=\""), 19);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->bound_column, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.data_fieldPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:data-field=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->data_field, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Listbox_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.dropdownPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:dropdown=\""), 15);

      if(pvalue->dropdown < 0 || pvalue->dropdown > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Listbox_dropdown (pctxt, pvalue->dropdown, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.list_sourcePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:list-source=\""), 18);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->list_source, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.list_source_typePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:list-source-type=\""), 23);

      if(pvalue->list_source_type < 0 || pvalue->list_source_type > 5)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Listbox_list_source_type (pctxt, pvalue->list_source_type
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.multiplePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:multiple=\""), 15);

      if(pvalue->multiple < 0 || pvalue->multiple > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Listbox_multiple (pctxt, pvalue->multiple, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Listbox_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.sizePresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->size, OSUTF8("ns4:size"), 8);
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Listbox_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.xforms_list_sourcePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:xforms-list-source=\""), 25);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->xforms_list_source, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode option_list */

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   { OSRTDListNode* pnode = pvalue->option_list.head;
   while (0 != pnode) {
      stat = XmlEnc_Option (pctxt, ((Option*)pnode->data)
         , OSUTF8("option"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
      pnode = pnode->next;
   }}
   nsPrefix = savedPrefix;
   }

   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Checkbox_current_state                                    */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Checkbox_current_state (OSCTXT* pctxt,
   Checkbox_current_state *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 2)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Checkbox_current_state (OSCTXT* pctxt, 
   Checkbox_current_state value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Checkbox_current_state_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Checkbox_disabled                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Checkbox_disabled (OSCTXT* pctxt,
   Checkbox_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Checkbox_disabled (OSCTXT* pctxt, Checkbox_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Checkbox_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Checkbox_image_align                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Checkbox_image_align (OSCTXT* pctxt,
   Checkbox_image_align *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 2)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Checkbox_image_align (OSCTXT* pctxt, Checkbox_image_align value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Checkbox_image_align_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Checkbox_image_position                                   */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Checkbox_image_position (OSCTXT* pctxt,
   Checkbox_image_position *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 4)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Checkbox_image_position (OSCTXT* pctxt, 
   Checkbox_image_position value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Checkbox_image_position_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Checkbox_is_tristate                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Checkbox_is_tristate (OSCTXT* pctxt,
   Checkbox_is_tristate *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Checkbox_is_tristate (OSCTXT* pctxt, Checkbox_is_tristate value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Checkbox_is_tristate_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Checkbox_printable                                        */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Checkbox_printable (OSCTXT* pctxt,
   Checkbox_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Checkbox_printable (OSCTXT* pctxt, Checkbox_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Checkbox_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Checkbox_state                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Checkbox_state (OSCTXT* pctxt,
   Checkbox_state *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 2)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Checkbox_state (OSCTXT* pctxt, Checkbox_state value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Checkbox_state_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Checkbox_tab_stop                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Checkbox_tab_stop (OSCTXT* pctxt,
   Checkbox_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Checkbox_tab_stop (OSCTXT* pctxt, Checkbox_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Checkbox_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Checkbox_visual_effect                                    */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Checkbox_visual_effect (OSCTXT* pctxt,
   Checkbox_visual_effect *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Checkbox_visual_effect (OSCTXT* pctxt, 
   Checkbox_visual_effect value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Checkbox_visual_effect_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Checkbox                                                  */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Checkbox (OSCTXT* pctxt,
   Checkbox *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|19,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|18,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode visual_effect */

   if (pvalue->m.visual_effectPresent) {
      if(pvalue->visual_effect < 0 || pvalue->visual_effect > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|17,
         asn1E_Checkbox_visual_effect (pctxt, &pvalue->visual_effect, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|16,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|15,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         asn1E_Checkbox_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode state */

   if (pvalue->m.statePresent) {
      if(pvalue->state < 0 || pvalue->state > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         asn1E_Checkbox_state (pctxt, &pvalue->state, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         asn1E_Checkbox_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode label */

   if (pvalue->m.labelPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_utf8str (pctxt, pvalue->label, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode is_tristate */

   if (pvalue->m.is_tristatePresent) {
      if(pvalue->is_tristate < 0 || pvalue->is_tristate > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         asn1E_Checkbox_is_tristate (pctxt, &pvalue->is_tristate, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode image_position */

   if (pvalue->m.image_positionPresent) {
      if(pvalue->image_position < 0 || pvalue->image_position > 4)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         asn1E_Checkbox_image_position (pctxt, &pvalue->image_position, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode image_align */

   if (pvalue->m.image_alignPresent) {
      if(pvalue->image_align < 0 || pvalue->image_align > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         asn1E_Checkbox_image_align (pctxt, &pvalue->image_align, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         asn1E_Checkbox_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode data_field */

   if (pvalue->m.data_fieldPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->data_field, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode current_state */

   if (pvalue->m.current_statePresent) {
      if(pvalue->current_state < 0 || pvalue->current_state > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Checkbox_current_state (pctxt, &pvalue->current_state, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Checkbox (OSCTXT* pctxt, Checkbox* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.current_statePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:current-state=\""), 20);

      if(pvalue->current_state < 0 || pvalue->current_state > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Checkbox_current_state (pctxt, pvalue->current_state
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.data_fieldPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:data-field=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->data_field, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Checkbox_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.image_alignPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:image-align=\""), 18);

      if(pvalue->image_align < 0 || pvalue->image_align > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Checkbox_image_align (pctxt, pvalue->image_align, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.image_positionPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:image-position=\""), 21);

      if(pvalue->image_position < 0 || pvalue->image_position > 4)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Checkbox_image_position (pctxt, pvalue->image_position
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.is_tristatePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:is-tristate=\""), 18);

      if(pvalue->is_tristate < 0 || pvalue->is_tristate > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Checkbox_is_tristate (pctxt, pvalue->is_tristate, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.labelPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:label=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->label, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Checkbox_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.statePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:state=\""), 12);

      if(pvalue->state < 0 || pvalue->state > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Checkbox_state (pctxt, pvalue->state, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Checkbox_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.visual_effectPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:visual-effect=\""), 20);

      if(pvalue->visual_effect < 0 || pvalue->visual_effect > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Checkbox_visual_effect (pctxt, pvalue->visual_effect
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Password_convert_empty_to_null                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Password_convert_empty_to_null (OSCTXT* pctxt,
   Password_convert_empty_to_null *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Password_convert_empty_to_null (OSCTXT* pctxt, 
   Password_convert_empty_to_null value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Password_convert_empty_to_null_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Password_disabled                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Password_disabled (OSCTXT* pctxt,
   Password_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Password_disabled (OSCTXT* pctxt, Password_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Password_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Password_printable                                        */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Password_printable (OSCTXT* pctxt,
   Password_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Password_printable (OSCTXT* pctxt, Password_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Password_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Password_tab_stop                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Password_tab_stop (OSCTXT* pctxt,
   Password_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Password_tab_stop (OSCTXT* pctxt, Password_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Password_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Password                                                  */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Password (OSCTXT* pctxt,
   Password *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|14,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|13,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         asn1E_Password_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         asn1E_Password_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_length */

   if (pvalue->m.max_lengthPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         xe_unsigned (pctxt, &pvalue->max_length, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode echo_char */

   if (pvalue->m.echo_charPresent) {
      { int nchars = rtxUTF8Len (pvalue->echo_char);
      }
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         xe_utf8str (pctxt, pvalue->echo_char, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         asn1E_Password_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode convert_empty_to_null */

   if (pvalue->m.convert_empty_to_nullPresent) {
      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Password_convert_empty_to_null (pctxt, &pvalue->convert_empty_to_null, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Password (OSCTXT* pctxt, Password* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.convert_empty_to_nullPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:convert-empty-to-null=\""), 28);

      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null
          > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Password_convert_empty_to_null (pctxt, pvalue->
         convert_empty_to_null, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Password_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.echo_charPresent) {
      { int nchars = rtxUTF8Len (pvalue->echo_char);
      }
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:echo-char=\""), 16);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->echo_char, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.max_lengthPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->max_length, OSUTF8("ns4:max-length"), 14);
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Password_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Password_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  File_disabled                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_File_disabled (OSCTXT* pctxt,
   File_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_File_disabled (OSCTXT* pctxt, File_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      File_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  File_printable                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_File_printable (OSCTXT* pctxt,
   File_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_File_printable (OSCTXT* pctxt, File_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      File_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  File_readonly                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_File_readonly (OSCTXT* pctxt,
   File_readonly *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_File_readonly (OSCTXT* pctxt, File_readonly value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      File_readonly_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  File_tab_stop                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_File_tab_stop (OSCTXT* pctxt,
   File_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_File_tab_stop (OSCTXT* pctxt, File_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      File_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  File                                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_File (OSCTXT* pctxt,
   File *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|14,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|13,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         asn1E_File_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode readonly */

   if (pvalue->m.readonlyPresent) {
      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         asn1E_File_readonly (pctxt, &pvalue->readonly, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         asn1E_File_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_length */

   if (pvalue->m.max_lengthPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         xe_unsigned (pctxt, &pvalue->max_length, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         asn1E_File_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode current_value */

   if (pvalue->m.current_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         xe_utf8str (pctxt, pvalue->current_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_File (OSCTXT* pctxt, File* pvalue, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.current_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:current-value=\""), 20);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->current_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_File_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.max_lengthPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->max_length, OSUTF8("ns4:max-length"), 14);
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_File_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.readonlyPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:readonly=\""), 15);

      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_File_readonly (pctxt, pvalue->readonly, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_File_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Time_convert_empty_to_null                                */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Time_convert_empty_to_null (OSCTXT* pctxt,
   Time_convert_empty_to_null *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Time_convert_empty_to_null (OSCTXT* pctxt, 
   Time_convert_empty_to_null value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Time_convert_empty_to_null_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Time_disabled                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Time_disabled (OSCTXT* pctxt,
   Time_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Time_disabled (OSCTXT* pctxt, Time_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Time_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Time_printable                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Time_printable (OSCTXT* pctxt,
   Time_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Time_printable (OSCTXT* pctxt, Time_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Time_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Time_readonly                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Time_readonly (OSCTXT* pctxt,
   Time_readonly *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Time_readonly (OSCTXT* pctxt, Time_readonly value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Time_readonly_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Time_tab_stop                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Time_tab_stop (OSCTXT* pctxt,
   Time_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Time_tab_stop (OSCTXT* pctxt, Time_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Time_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Time                                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Ns4_Time (OSCTXT* pctxt,
   Ns4_Time *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|18,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|17,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|16,
         xe_charstr (pctxt, pvalue->value, ASN1IMPL, TM_UNIV|TM_PRIM|26));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|15,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         asn1E_Time_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode readonly */

   if (pvalue->m.readonlyPresent) {
      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         asn1E_Time_readonly (pctxt, &pvalue->readonly, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         asn1E_Time_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode min_value */

   if (pvalue->m.min_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_charstr (pctxt, pvalue->min_value, ASN1IMPL, TM_UNIV|TM_PRIM|26));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_value */

   if (pvalue->m.max_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         xe_charstr (pctxt, pvalue->max_value, ASN1IMPL, TM_UNIV|TM_PRIM|26));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_length */

   if (pvalue->m.max_lengthPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_unsigned (pctxt, &pvalue->max_length, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Time_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode data_field */

   if (pvalue->m.data_fieldPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         xe_utf8str (pctxt, pvalue->data_field, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode current_value */

   if (pvalue->m.current_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_charstr (pctxt, pvalue->current_value, ASN1IMPL, TM_UNIV|TM_PRIM|26));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode convert_empty_to_null */

   if (pvalue->m.convert_empty_to_nullPresent) {
      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Time_convert_empty_to_null (pctxt, &pvalue->convert_empty_to_null, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Ns4_Time (OSCTXT* pctxt, Ns4_Time* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.convert_empty_to_nullPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:convert-empty-to-null=\""), 28);

      if(pvalue->convert_empty_to_null < 0 || pvalue->convert_empty_to_null
          > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Time_convert_empty_to_null (pctxt, pvalue->
         convert_empty_to_null, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.current_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:current-value=\""), 20);

      stat = rtXmlEncUTF8Str (pctxt, (const OSUTF8CHAR*)pvalue->current_value
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.data_fieldPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:data-field=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->data_field, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Time_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.max_lengthPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->max_length, OSUTF8("ns4:max-length"), 14);
   }

   if (pvalue->m.max_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:max-value=\""), 16);

      stat = rtXmlEncUTF8Str (pctxt, (const OSUTF8CHAR*)pvalue->max_value
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.min_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:min-value=\""), 16);

      stat = rtXmlEncUTF8Str (pctxt, (const OSUTF8CHAR*)pvalue->min_value
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Time_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.readonlyPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:readonly=\""), 15);

      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Time_readonly (pctxt, pvalue->readonly, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Time_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, (const OSUTF8CHAR*)pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Fixed_text_disabled                                       */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Fixed_text_disabled (OSCTXT* pctxt,
   Fixed_text_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Fixed_text_disabled (OSCTXT* pctxt, Fixed_text_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Fixed_text_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Fixed_text_multi_line                                     */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Fixed_text_multi_line (OSCTXT* pctxt,
   Fixed_text_multi_line *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Fixed_text_multi_line (OSCTXT* pctxt, Fixed_text_multi_line value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Fixed_text_multi_line_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Fixed_text_printable                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Fixed_text_printable (OSCTXT* pctxt,
   Fixed_text_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Fixed_text_printable (OSCTXT* pctxt, Fixed_text_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Fixed_text_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Fixed_text                                                */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Fixed_text (OSCTXT* pctxt,
   Fixed_text *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|11,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|10,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         asn1E_Fixed_text_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode multi_line */

   if (pvalue->m.multi_linePresent) {
      if(pvalue->multi_line < 0 || pvalue->multi_line > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         asn1E_Fixed_text_multi_line (pctxt, &pvalue->multi_line, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode label */

   if (pvalue->m.labelPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         xe_utf8str (pctxt, pvalue->label, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode for_ */

   if (pvalue->m.for_Present) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->for_, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Fixed_text_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Fixed_text (OSCTXT* pctxt, Fixed_text* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Fixed_text_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.for_Present) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:for=\""), 10);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->for_, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.labelPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:label=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->label, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.multi_linePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:multi-line=\""), 17);

      if(pvalue->multi_line < 0 || pvalue->multi_line > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Fixed_text_multi_line (pctxt, pvalue->multi_line, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Fixed_text_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Button_button_type                                        */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Button_button_type (OSCTXT* pctxt,
   Button_button_type *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 3)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Button_button_type (OSCTXT* pctxt, Button_button_type value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Button_button_type_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Button_default_button                                     */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Button_default_button (OSCTXT* pctxt,
   Button_default_button *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Button_default_button (OSCTXT* pctxt, Button_default_button value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Button_default_button_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Button_disabled                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Button_disabled (OSCTXT* pctxt,
   Button_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Button_disabled (OSCTXT* pctxt, Button_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Button_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Button_focus_on_click                                     */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Button_focus_on_click (OSCTXT* pctxt,
   Button_focus_on_click *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Button_focus_on_click (OSCTXT* pctxt, Button_focus_on_click value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Button_focus_on_click_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Button_image_align                                        */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Button_image_align (OSCTXT* pctxt,
   Button_image_align *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 2)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Button_image_align (OSCTXT* pctxt, Button_image_align value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Button_image_align_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Button_image_position                                     */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Button_image_position (OSCTXT* pctxt,
   Button_image_position *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 4)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Button_image_position (OSCTXT* pctxt, Button_image_position value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Button_image_position_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Button_printable                                          */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Button_printable (OSCTXT* pctxt,
   Button_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Button_printable (OSCTXT* pctxt, Button_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Button_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Button_tab_stop                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Button_tab_stop (OSCTXT* pctxt,
   Button_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Button_tab_stop (OSCTXT* pctxt, Button_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Button_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Button_toggle                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Button_toggle (OSCTXT* pctxt,
   Button_toggle *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Button_toggle (OSCTXT* pctxt, Button_toggle value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Button_toggle_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Button                                                    */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Button (OSCTXT* pctxt,
   Button *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|22,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|21,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode target_frame */

   if (pvalue->m.target_framePresent) {
      if (pvalue->target_frame == NULL) {
         rtxErrAddStrParm (pctxt, "pvalue->target_frame");
         return LOG_RTERR (pctxt, RTERR_NULLPTR);
      }
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|20,
         asn1E_Ns13_Target_frame (pctxt, (Ns13_Target_frame*)pvalue->target_frame, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode xforms_submission */

   if (pvalue->m.xforms_submissionPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|19,
         xe_utf8str (pctxt, pvalue->xforms_submission, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|18,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode toggle */

   if (pvalue->m.togglePresent) {
      if(pvalue->toggle < 0 || pvalue->toggle > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|17,
         asn1E_Button_toggle (pctxt, &pvalue->toggle, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|16,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|15,
         asn1E_Button_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         asn1E_Button_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode label */

   if (pvalue->m.labelPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         xe_utf8str (pctxt, pvalue->label, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode image_position */

   if (pvalue->m.image_positionPresent) {
      if(pvalue->image_position < 0 || pvalue->image_position > 4)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         asn1E_Button_image_position (pctxt, &pvalue->image_position, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode image_data */

   if (pvalue->m.image_dataPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_utf8str (pctxt, pvalue->image_data, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode image_align */

   if (pvalue->m.image_alignPresent) {
      if(pvalue->image_align < 0 || pvalue->image_align > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         asn1E_Button_image_align (pctxt, &pvalue->image_align, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode focus_on_click */

   if (pvalue->m.focus_on_clickPresent) {
      if(pvalue->focus_on_click < 0 || pvalue->focus_on_click > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         asn1E_Button_focus_on_click (pctxt, &pvalue->focus_on_click, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Button_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode default_button */

   if (pvalue->m.default_buttonPresent) {
      if(pvalue->default_button < 0 || pvalue->default_button > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         asn1E_Button_default_button (pctxt, &pvalue->default_button, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode button_type */

   if (pvalue->m.button_typePresent) {
      if(pvalue->button_type < 0 || pvalue->button_type > 3)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Button_button_type (pctxt, &pvalue->button_type, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode href */

   if (pvalue->m.hrefPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Xlink_Href (pctxt, pvalue->href, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Button (OSCTXT* pctxt, Button* pvalue, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.hrefPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xlink:href=\""), 13);

      stat = XmlEnc_Xlink_Href (pctxt, pvalue->href, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.button_typePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:button-type=\""), 18);

      if(pvalue->button_type < 0 || pvalue->button_type > 3)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Button_button_type (pctxt, pvalue->button_type, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.default_buttonPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:default-button=\""), 21);

      if(pvalue->default_button < 0 || pvalue->default_button > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Button_default_button (pctxt, pvalue->default_button
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Button_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.focus_on_clickPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:focus-on-click=\""), 21);

      if(pvalue->focus_on_click < 0 || pvalue->focus_on_click > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Button_focus_on_click (pctxt, pvalue->focus_on_click
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.image_alignPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:image-align=\""), 18);

      if(pvalue->image_align < 0 || pvalue->image_align > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Button_image_align (pctxt, pvalue->image_align, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.image_dataPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:image-data=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->image_data, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.image_positionPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:image-position=\""), 21);

      if(pvalue->image_position < 0 || pvalue->image_position > 4)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Button_image_position (pctxt, pvalue->image_position
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.labelPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:label=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->label, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Button_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Button_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.togglePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:toggle=\""), 13);

      if(pvalue->toggle < 0 || pvalue->toggle > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Button_toggle (pctxt, pvalue->toggle, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.xforms_submissionPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:xforms-submission=\""), 24);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->xforms_submission, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.target_framePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:target-frame=\""), 20);

      stat = XmlEnc_Ns13_Target_frame (pctxt, pvalue->target_frame, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Image_button_type                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Image_button_type (OSCTXT* pctxt,
   Image_button_type *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 3)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Image_button_type (OSCTXT* pctxt, Image_button_type value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Image_button_type_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Image_disabled                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Image_disabled (OSCTXT* pctxt,
   Image_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Image_disabled (OSCTXT* pctxt, Image_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Image_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Image_printable                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Image_printable (OSCTXT* pctxt,
   Image_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Image_printable (OSCTXT* pctxt, Image_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Image_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Image_tab_stop                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Image_tab_stop (OSCTXT* pctxt,
   Image_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Image_tab_stop (OSCTXT* pctxt, Image_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Image_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Image                                                     */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Ns4_Image (OSCTXT* pctxt,
   Ns4_Image *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|15,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|14,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode target_frame */

   if (pvalue->m.target_framePresent) {
      if (pvalue->target_frame == NULL) {
         rtxErrAddStrParm (pctxt, "pvalue->target_frame");
         return LOG_RTERR (pctxt, RTERR_NULLPTR);
      }
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|13,
         asn1E_Ns13_Target_frame (pctxt, (Ns13_Target_frame*)pvalue->target_frame, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         asn1E_Image_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         asn1E_Image_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode image_data */

   if (pvalue->m.image_dataPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         xe_utf8str (pctxt, pvalue->image_data, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         asn1E_Image_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode button_type */

   if (pvalue->m.button_typePresent) {
      if(pvalue->button_type < 0 || pvalue->button_type > 3)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Image_button_type (pctxt, &pvalue->button_type, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode href */

   if (pvalue->m.hrefPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Xlink_Href (pctxt, pvalue->href, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Ns4_Image (OSCTXT* pctxt, Ns4_Image* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.hrefPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xlink:href=\""), 13);

      stat = XmlEnc_Xlink_Href (pctxt, pvalue->href, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.button_typePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:button-type=\""), 18);

      if(pvalue->button_type < 0 || pvalue->button_type > 3)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Image_button_type (pctxt, pvalue->button_type, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Image_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.image_dataPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:image-data=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->image_data, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Image_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Image_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.target_framePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:target-frame=\""), 20);

      stat = XmlEnc_Ns13_Target_frame (pctxt, pvalue->target_frame, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Radio_current_selected                                    */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Radio_current_selected (OSCTXT* pctxt,
   Radio_current_selected *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Radio_current_selected (OSCTXT* pctxt, 
   Radio_current_selected value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Radio_current_selected_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Radio_disabled                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Radio_disabled (OSCTXT* pctxt,
   Radio_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Radio_disabled (OSCTXT* pctxt, Radio_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Radio_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Radio_image_align                                         */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Radio_image_align (OSCTXT* pctxt,
   Radio_image_align *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 2)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Radio_image_align (OSCTXT* pctxt, Radio_image_align value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Radio_image_align_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Radio_image_position                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Radio_image_position (OSCTXT* pctxt,
   Radio_image_position *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 4)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Radio_image_position (OSCTXT* pctxt, Radio_image_position value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Radio_image_position_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Radio_printable                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Radio_printable (OSCTXT* pctxt,
   Radio_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Radio_printable (OSCTXT* pctxt, Radio_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Radio_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Radio_selected                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Radio_selected (OSCTXT* pctxt,
   Radio_selected *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Radio_selected (OSCTXT* pctxt, Radio_selected value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Radio_selected_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Radio_tab_stop                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Radio_tab_stop (OSCTXT* pctxt,
   Radio_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Radio_tab_stop (OSCTXT* pctxt, Radio_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Radio_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Radio_visual_effect                                       */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Radio_visual_effect (OSCTXT* pctxt,
   Radio_visual_effect *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Radio_visual_effect (OSCTXT* pctxt, Radio_visual_effect value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Radio_visual_effect_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Radio                                                     */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Radio (OSCTXT* pctxt,
   Radio *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|18,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|17,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode visual_effect */

   if (pvalue->m.visual_effectPresent) {
      if(pvalue->visual_effect < 0 || pvalue->visual_effect > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|16,
         asn1E_Radio_visual_effect (pctxt, &pvalue->visual_effect, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|15,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         asn1E_Radio_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode selected */

   if (pvalue->m.selectedPresent) {
      if(pvalue->selected < 0 || pvalue->selected > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         asn1E_Radio_selected (pctxt, &pvalue->selected, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         asn1E_Radio_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode label */

   if (pvalue->m.labelPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         xe_utf8str (pctxt, pvalue->label, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode image_position */

   if (pvalue->m.image_positionPresent) {
      if(pvalue->image_position < 0 || pvalue->image_position > 4)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         asn1E_Radio_image_position (pctxt, &pvalue->image_position, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode image_align */

   if (pvalue->m.image_alignPresent) {
      if(pvalue->image_align < 0 || pvalue->image_align > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         asn1E_Radio_image_align (pctxt, &pvalue->image_align, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         asn1E_Radio_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode data_field */

   if (pvalue->m.data_fieldPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->data_field, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode current_selected */

   if (pvalue->m.current_selectedPresent) {
      if(pvalue->current_selected < 0 || pvalue->current_selected > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Radio_current_selected (pctxt, &pvalue->current_selected, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Radio (OSCTXT* pctxt, Radio* pvalue, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.current_selectedPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:current-selected=\""), 23);

      if(pvalue->current_selected < 0 || pvalue->current_selected > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Radio_current_selected (pctxt, pvalue->current_selected
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.data_fieldPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:data-field=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->data_field, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Radio_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.image_alignPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:image-align=\""), 18);

      if(pvalue->image_align < 0 || pvalue->image_align > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Radio_image_align (pctxt, pvalue->image_align, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.image_positionPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:image-position=\""), 21);

      if(pvalue->image_position < 0 || pvalue->image_position > 4)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Radio_image_position (pctxt, pvalue->image_position
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.labelPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:label=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->label, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Radio_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.selectedPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:selected=\""), 15);

      if(pvalue->selected < 0 || pvalue->selected > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Radio_selected (pctxt, pvalue->selected, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Radio_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.visual_effectPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:visual-effect=\""), 20);

      if(pvalue->visual_effect < 0 || pvalue->visual_effect > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Radio_visual_effect (pctxt, pvalue->visual_effect, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Frame_disabled                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Frame_disabled (OSCTXT* pctxt,
   Frame_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Frame_disabled (OSCTXT* pctxt, Frame_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Frame_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Frame_printable                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Frame_printable (OSCTXT* pctxt,
   Frame_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Frame_printable (OSCTXT* pctxt, Frame_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Frame_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Frame                                                     */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Ns4_Frame (OSCTXT* pctxt,
   Ns4_Frame *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|10,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|9,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         asn1E_Frame_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode label */

   if (pvalue->m.labelPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         xe_utf8str (pctxt, pvalue->label, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode for_ */

   if (pvalue->m.for_Present) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->for_, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Frame_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Ns4_Frame (OSCTXT* pctxt, Ns4_Frame* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Frame_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.for_Present) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:for=\""), 10);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->for_, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.labelPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:label=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->label, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Frame_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Image_frame_disabled                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Image_frame_disabled (OSCTXT* pctxt,
   Image_frame_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Image_frame_disabled (OSCTXT* pctxt, Image_frame_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Image_frame_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Image_frame_printable                                     */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Image_frame_printable (OSCTXT* pctxt,
   Image_frame_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Image_frame_printable (OSCTXT* pctxt, Image_frame_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Image_frame_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Image_frame_readonly                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Image_frame_readonly (OSCTXT* pctxt,
   Image_frame_readonly *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Image_frame_readonly (OSCTXT* pctxt, Image_frame_readonly value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Image_frame_readonly_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Image_frame                                               */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Image_frame (OSCTXT* pctxt,
   Image_frame *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|11,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|10,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode readonly */

   if (pvalue->m.readonlyPresent) {
      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         asn1E_Image_frame_readonly (pctxt, &pvalue->readonly, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         asn1E_Image_frame_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode image_data */

   if (pvalue->m.image_dataPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         xe_utf8str (pctxt, pvalue->image_data, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         asn1E_Image_frame_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode data_field */

   if (pvalue->m.data_fieldPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         xe_utf8str (pctxt, pvalue->data_field, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Image_frame (OSCTXT* pctxt, Image_frame* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.data_fieldPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:data-field=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->data_field, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Image_frame_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.image_dataPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:image-data=\""), 17);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->image_data, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Image_frame_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.readonlyPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:readonly=\""), 15);

      if(pvalue->readonly < 0 || pvalue->readonly > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Image_frame_readonly (pctxt, pvalue->readonly, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Hidden                                                    */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Hidden (OSCTXT* pctxt,
   Hidden *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|6,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|5,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Hidden (OSCTXT* pctxt, Hidden* pvalue, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Grid_disabled                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Grid_disabled (OSCTXT* pctxt,
   Grid_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Grid_disabled (OSCTXT* pctxt, Grid_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Grid_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Grid_printable                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Grid_printable (OSCTXT* pctxt,
   Grid_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Grid_printable (OSCTXT* pctxt, Grid_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Grid_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Grid_tab_stop                                             */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Grid_tab_stop (OSCTXT* pctxt,
   Grid_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Grid_tab_stop (OSCTXT* pctxt, Grid_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Grid_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Column_text_style_name                                    */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Column_text_style_name (OSCTXT* pctxt,
   Column_text_style_name *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   ll0 = 0;
   switch (pvalue->t)
   {
      case 1:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
            xe_utf8str (pctxt, pvalue->u.alt, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 2:
         { int nchars = rtxUTF8Len (pvalue->u.alt_1);
         }
         ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
            xe_utf8str (pctxt, pvalue->u.alt_1, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   ll0 += ll1;

   return (ll0);
}

int XmlEnc_Column_text_style_name (OSCTXT* pctxt, 
   Column_text_style_name* pvalue, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, TRUE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   switch (pvalue->t)
   {
      case 1:
         /* encode alt */

         stat = rtXmlEncUTF8Str (pctxt, pvalue->u.alt, 0, 0);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 2:
         /* encode alt_1 */

         { int nchars = rtxUTF8Len (pvalue->u.alt_1);
         }
         stat = rtXmlEncUTF8Str (pctxt, pvalue->u.alt_1, 0, 0);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      default: {
         char buf[40];
         os_snprintf (buf, 40, "%d", pvalue->t);
         return LOG_RTERRNEW1 (pctxt, RTERR_INVOPT, 
            rtxErrAddStrParm (pctxt, buf));
      }
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Column_element                                            */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Column_element (OSCTXT* pctxt,
   Column_element *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   ll0 = 0;
   switch (pvalue->t)
   {
      case 1:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|0,
            asn1E_Ns4_Text (pctxt, pvalue->u.text, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 2:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|1,
            asn1E_Textarea (pctxt, pvalue->u.textarea, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 3:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|2,
            asn1E_Formatted_text (pctxt, pvalue->u.formatted_text, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 4:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|3,
            asn1E_Ns4_Number (pctxt, pvalue->u.number, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 5:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|4,
            asn1E_Ns4_Date (pctxt, pvalue->u.date, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 6:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|5,
            asn1E_Combobox (pctxt, pvalue->u.combobox, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 7:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|6,
            asn1E_Listbox (pctxt, pvalue->u.listbox, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 8:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|7,
            asn1E_Checkbox (pctxt, pvalue->u.checkbox, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   ll0 += ll1;

   return (ll0);
}

int XmlEnc_Column_element (OSCTXT* pctxt, Column_element* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, TRUE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   switch (pvalue->t)
   {
      case 1:
         /* encode text */

         stat = XmlEnc_Ns4_Text (pctxt, pvalue->u.text
            , OSUTF8("text"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 2:
         /* encode textarea */

         stat = XmlEnc_Textarea (pctxt, pvalue->u.textarea
            , OSUTF8("textarea"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 3:
         /* encode formatted_text */

         stat = XmlEnc_Formatted_text (pctxt, pvalue->u.formatted_text
            , OSUTF8("formatted-text"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 4:
         /* encode number */

         stat = XmlEnc_Ns4_Number (pctxt, pvalue->u.number
            , OSUTF8("number"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 5:
         /* encode date */

         stat = XmlEnc_Ns4_Date (pctxt, pvalue->u.date
            , OSUTF8("date"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 6:
         /* encode combobox */

         stat = XmlEnc_Combobox (pctxt, pvalue->u.combobox
            , OSUTF8("combobox"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 7:
         /* encode listbox */

         stat = XmlEnc_Listbox (pctxt, pvalue->u.listbox
            , OSUTF8("listbox"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 8:
         /* encode checkbox */

         stat = XmlEnc_Checkbox (pctxt, pvalue->u.checkbox
            , OSUTF8("checkbox"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      default: {
         char buf[40];
         os_snprintf (buf, 40, "%d", pvalue->t);
         return LOG_RTERRNEW1 (pctxt, RTERR_INVOPT, 
            rtxErrAddStrParm (pctxt, buf));
      }
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Column                                                    */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Column (OSCTXT* pctxt,
   Column *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;
   OSRTDListNode* pnode2;
   int ll2 = 0;

   /* encode choice_list */

   pnode2 = pvalue->choice_list.tail;
   while (0 != pnode2) {
      ll = asn1E_Column_element (pctxt, ((Column_element*)pnode2->data), ASN1EXPL);
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll2 += ll;

      pnode2 = pnode2->prev;
   }
   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|4, ll2);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   else { ll1 += ll; ll2 = 0; }

   /* encode text_style_name */

   if (pvalue->m.text_style_namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|3,
         asn1E_Column_text_style_name (pctxt, &pvalue->text_style_name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode label */

   if (pvalue->m.labelPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->label, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Column (OSCTXT* pctxt, Column* pvalue, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.labelPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:label=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->label, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.text_style_namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:text-style-name=\""), 22);

      stat = XmlEnc_Column_text_style_name (pctxt, &pvalue->text_style_name
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode choice_list */

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   { OSRTDListNode* pnode = pvalue->choice_list.head;
   while (0 != pnode) {
      stat = XmlEnc_Column_element (pctxt, ((Column_element*)pnode->data)
         , 0, nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
      pnode = pnode->next;
   }}
   nsPrefix = savedPrefix;
   }

   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Grid                                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Ns4_Grid (OSCTXT* pctxt,
   Ns4_Grid *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;
   OSRTDListNode* pnode2;
   int ll2 = 0;

   /* encode column_list */

   pnode2 = pvalue->column_list.tail;
   while (0 != pnode2) {
      ll = asn1E_Column (pctxt, ((Column*)pnode2->data), ASN1EXPL);
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll2 += ll;

      pnode2 = pnode2->prev;
   }
   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|11, ll2);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   else { ll1 += ll; ll2 = 0; }

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|10,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|9,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         asn1E_Grid_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Grid_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Grid_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Ns4_Grid (OSCTXT* pctxt, Ns4_Grid* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Grid_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Grid_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Grid_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode column_list */

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   { OSRTDListNode* pnode = pvalue->column_list.head;
   while (0 != pnode) {
      stat = XmlEnc_Column (pctxt, ((Column*)pnode->data)
         , OSUTF8("column"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
      pnode = pnode->next;
   }}
   nsPrefix = savedPrefix;
   }

   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Value_range_disabled                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Value_range_disabled (OSCTXT* pctxt,
   Value_range_disabled *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Value_range_disabled (OSCTXT* pctxt, Value_range_disabled value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Value_range_disabled_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Value_range_orientation                                   */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Value_range_orientation (OSCTXT* pctxt,
   Value_range_orientation *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Value_range_orientation (OSCTXT* pctxt, 
   Value_range_orientation value, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Value_range_orientation_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Value_range_printable                                     */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Value_range_printable (OSCTXT* pctxt,
   Value_range_printable *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Value_range_printable (OSCTXT* pctxt, Value_range_printable value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Value_range_printable_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Value_range_tab_stop                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Value_range_tab_stop (OSCTXT* pctxt,
   Value_range_tab_stop *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;

   if(*pvalue < 0 || *pvalue > 1)
      return LOG_RTERR (pctxt, RTERR_INVENUM);

   ll = xe_enum (pctxt, (OSINT32*)pvalue, tagging);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll0 += ll;

   return (ll0);
}

int XmlEnc_Value_range_tab_stop (OSCTXT* pctxt, Value_range_tab_stop value, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   stat = rtXmlEncUTF8Str (pctxt,
      Value_range_tab_stop_ToString (value), elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Value_range                                               */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Value_range (OSCTXT* pctxt,
   Value_range *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|17,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|16,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode value */

   if (pvalue->m.valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|15,
         xe_utf8str (pctxt, pvalue->value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode title */

   if (pvalue->m.titlePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         xe_utf8str (pctxt, pvalue->title, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_stop */

   if (pvalue->m.tab_stopPresent) {
      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         asn1E_Value_range_tab_stop (pctxt, &pvalue->tab_stop, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_index */

   if (pvalue->m.tab_indexPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         xe_unsigned (pctxt, &pvalue->tab_index, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode step_size */

   if (pvalue->m.step_sizePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         xe_unsigned (pctxt, &pvalue->step_size, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode printable */

   if (pvalue->m.printablePresent) {
      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|10,
         asn1E_Value_range_printable (pctxt, &pvalue->printable, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode page_step_size */

   if (pvalue->m.page_step_sizePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_unsigned (pctxt, &pvalue->page_step_size, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode orientation */

   if (pvalue->m.orientationPresent) {
      if(pvalue->orientation < 0 || pvalue->orientation > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         asn1E_Value_range_orientation (pctxt, &pvalue->orientation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode min_value */

   if (pvalue->m.min_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         xe_utf8str (pctxt, pvalue->min_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode max_value */

   if (pvalue->m.max_valuePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         xe_utf8str (pctxt, pvalue->max_value, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode disabled */

   if (pvalue->m.disabledPresent) {
      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         asn1E_Value_range_disabled (pctxt, &pvalue->disabled, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode delay_for_repeat */

   if (pvalue->m.delay_for_repeatPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         xe_utf8str (pctxt, pvalue->delay_for_repeat, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Value_range (OSCTXT* pctxt, Value_range* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.delay_for_repeatPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:delay-for-repeat=\""), 23);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->delay_for_repeat, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.disabledPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:disabled=\""), 15);

      if(pvalue->disabled < 0 || pvalue->disabled > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Value_range_disabled (pctxt, pvalue->disabled, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.max_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:max-value=\""), 16);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->max_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.min_valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:min-value=\""), 16);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->min_value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.orientationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:orientation=\""), 18);

      if(pvalue->orientation < 0 || pvalue->orientation > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Value_range_orientation (pctxt, pvalue->orientation
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.page_step_sizePresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->page_step_size, OSUTF8("ns4:page-step-size"), 18);
   }

   if (pvalue->m.printablePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:printable=\""), 16);

      if(pvalue->printable < 0 || pvalue->printable > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Value_range_printable (pctxt, pvalue->printable, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.step_sizePresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->step_size, OSUTF8("ns4:step-size"), 13);
   }

   if (pvalue->m.tab_indexPresent) {
      stat = rtXmlEncUIntAttr
         (pctxt, pvalue->tab_index, OSUTF8("ns4:tab-index"), 13);
   }

   if (pvalue->m.tab_stopPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-stop=\""), 15);

      if(pvalue->tab_stop < 0 || pvalue->tab_stop > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Value_range_tab_stop (pctxt, pvalue->tab_stop, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.titlePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:title=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->title, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.valuePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:value=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->value, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Generic_control                                           */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Generic_control (OSCTXT* pctxt,
   Generic_control *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|5,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|4,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode id */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
      xe_utf8str (pctxt, pvalue->id, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode bind */

   if (pvalue->m.bindPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Bind (pctxt, (Bind)pvalue->bind, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Generic_control (OSCTXT* pctxt, Generic_control* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.bindPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xforms:bind=\""), 14);

      stat = XmlEnc_Bind (pctxt, pvalue->bind, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:id=\""), 9);

   stat = rtXmlEncUTF8Str (pctxt, pvalue->id, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '\"');

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form_element                                              */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form_element (OSCTXT* pctxt,
   Form_element *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   ll0 = 0;
   switch (pvalue->t)
   {
      case 1:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|0,
            asn1E_Ns4_Text (pctxt, pvalue->u.text, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 2:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|1,
            asn1E_Textarea (pctxt, pvalue->u.textarea, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 3:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|2,
            asn1E_Formatted_text (pctxt, pvalue->u.formatted_text, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 4:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|3,
            asn1E_Ns4_Number (pctxt, pvalue->u.number, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 5:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|4,
            asn1E_Ns4_Date (pctxt, pvalue->u.date, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 6:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|5,
            asn1E_Combobox (pctxt, pvalue->u.combobox, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 7:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|6,
            asn1E_Listbox (pctxt, pvalue->u.listbox, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 8:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|7,
            asn1E_Checkbox (pctxt, pvalue->u.checkbox, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 9:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|8,
            asn1E_Password (pctxt, pvalue->u.password, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 10:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|9,
            asn1E_File (pctxt, pvalue->u.file, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 11:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|10,
            asn1E_Ns4_Time (pctxt, pvalue->u.time_, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 12:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|11,
            asn1E_Fixed_text (pctxt, pvalue->u.fixed_text, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 13:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|12,
            asn1E_Button (pctxt, pvalue->u.button, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 14:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|13,
            asn1E_Ns4_Image (pctxt, pvalue->u.image, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 15:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|14,
            asn1E_Radio (pctxt, pvalue->u.radio, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 16:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|15,
            asn1E_Ns4_Frame (pctxt, pvalue->u.frame, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 17:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|16,
            asn1E_Image_frame (pctxt, pvalue->u.image_frame, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 18:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|17,
            asn1E_Hidden (pctxt, pvalue->u.hidden, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 19:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|18,
            asn1E_Ns4_Grid (pctxt, pvalue->u.grid, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 20:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|19,
            asn1E_Value_range (pctxt, pvalue->u.value_range, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 21:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|20,
            asn1E_Generic_control (pctxt, pvalue->u.generic_control, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      case 22:
         ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|21,
            asn1E_Form (pctxt, (Form*)pvalue->u.form, ASN1IMPL));
         if (ll < 0) return LOG_RTERR (pctxt, ll);
         ll1 += ll;
         break;

      default:
         return LOG_RTERR (pctxt, RTERR_INVOPT);
   }
   ll0 += ll1;

   return (ll0);
}

int XmlEnc_Form_element (OSCTXT* pctxt, Form_element* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, TRUE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   switch (pvalue->t)
   {
      case 1:
         /* encode text */

         stat = XmlEnc_Ns4_Text (pctxt, pvalue->u.text
            , OSUTF8("text"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 2:
         /* encode textarea */

         stat = XmlEnc_Textarea (pctxt, pvalue->u.textarea
            , OSUTF8("textarea"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 3:
         /* encode formatted_text */

         stat = XmlEnc_Formatted_text (pctxt, pvalue->u.formatted_text
            , OSUTF8("formatted-text"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 4:
         /* encode number */

         stat = XmlEnc_Ns4_Number (pctxt, pvalue->u.number
            , OSUTF8("number"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 5:
         /* encode date */

         stat = XmlEnc_Ns4_Date (pctxt, pvalue->u.date
            , OSUTF8("date"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 6:
         /* encode combobox */

         stat = XmlEnc_Combobox (pctxt, pvalue->u.combobox
            , OSUTF8("combobox"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 7:
         /* encode listbox */

         stat = XmlEnc_Listbox (pctxt, pvalue->u.listbox
            , OSUTF8("listbox"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 8:
         /* encode checkbox */

         stat = XmlEnc_Checkbox (pctxt, pvalue->u.checkbox
            , OSUTF8("checkbox"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 9:
         /* encode password */

         stat = XmlEnc_Password (pctxt, pvalue->u.password
            , OSUTF8("password"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 10:
         /* encode file */

         stat = XmlEnc_File (pctxt, pvalue->u.file, OSUTF8("file"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 11:
         /* encode time_ */

         stat = XmlEnc_Ns4_Time (pctxt, pvalue->u.time_
            , OSUTF8("time"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 12:
         /* encode fixed_text */

         stat = XmlEnc_Fixed_text (pctxt, pvalue->u.fixed_text
            , OSUTF8("fixed-text"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 13:
         /* encode button */

         stat = XmlEnc_Button (pctxt, pvalue->u.button
            , OSUTF8("button"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 14:
         /* encode image */

         stat = XmlEnc_Ns4_Image (pctxt, pvalue->u.image
            , OSUTF8("image"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 15:
         /* encode radio */

         stat = XmlEnc_Radio (pctxt, pvalue->u.radio
            , OSUTF8("radio"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 16:
         /* encode frame */

         stat = XmlEnc_Ns4_Frame (pctxt, pvalue->u.frame
            , OSUTF8("frame"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 17:
         /* encode image_frame */

         stat = XmlEnc_Image_frame (pctxt, pvalue->u.image_frame
            , OSUTF8("image-frame"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 18:
         /* encode hidden */

         stat = XmlEnc_Hidden (pctxt, pvalue->u.hidden
            , OSUTF8("hidden"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 19:
         /* encode grid */

         stat = XmlEnc_Ns4_Grid (pctxt, pvalue->u.grid
            , OSUTF8("grid"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 20:
         /* encode value_range */

         stat = XmlEnc_Value_range (pctxt, pvalue->u.value_range
            , OSUTF8("value-range"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 21:
         /* encode generic_control */

         stat = XmlEnc_Generic_control (pctxt, pvalue->u.generic_control
            , OSUTF8("generic-control"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      case 22:
         /* encode form */

         stat = XmlEnc_Form (pctxt, pvalue->u.form, OSUTF8("form"), nsPrefix);
         if (stat != 0) return LOG_RTERR (pctxt, stat);

         break;

      default: {
         char buf[40];
         os_snprintf (buf, 40, "%d", pvalue->t);
         return LOG_RTERRNEW1 (pctxt, RTERR_INVOPT, 
            rtxErrAddStrParm (pctxt, buf));
      }
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Connection_resource                                       */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Connection_resource (OSCTXT* pctxt,
   Connection_resource *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode href */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
      asn1E_Xlink_Href (pctxt, pvalue->href, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Connection_resource (OSCTXT* pctxt, Connection_resource* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   OSRTSAFEMEMCPY (pctxt, OSUTF8(" xlink:href=\""), 13);

   stat = XmlEnc_Xlink_Href (pctxt, pvalue->href, 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   OSRTSAFEPUTCHAR (pctxt, '"');

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Form                                                      */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Form (OSCTXT* pctxt,
   Form *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;
   OSRTDListNode* pnode2;
   int ll2 = 0;

   /* encode connection_resource */

   if (pvalue->m.connection_resourcePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|26,
         asn1E_Connection_resource (pctxt, &pvalue->connection_resource, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode choice_list */

   pnode2 = pvalue->choice_list.tail;
   while (0 != pnode2) {
      ll = asn1E_Form_element (pctxt, ((Form_element*)pnode2->data), ASN1EXPL);
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll2 += ll;

      pnode2 = pnode2->prev;
   }
   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|25, ll2);
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   else { ll1 += ll; ll2 = 0; }

   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|24,
         asn1E_Ns13_Event_listeners (pctxt, (Ns13_Event_listeners*)&pvalue->event_listeners, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|23,
         asn1E_Properties (pctxt, &pvalue->properties, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode target_frame */

   if (pvalue->m.target_framePresent) {
      if (pvalue->target_frame == NULL) {
         rtxErrAddStrParm (pctxt, "pvalue->target_frame");
         return LOG_RTERR (pctxt, RTERR_NULLPTR);
      }
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|22,
         asn1E_Ns13_Target_frame (pctxt, (Ns13_Target_frame*)pvalue->target_frame, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode tab_cycle */

   if (pvalue->m.tab_cyclePresent) {
      if(pvalue->tab_cycle < 0 || pvalue->tab_cycle > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|21,
         asn1E_Form_tab_cycle (pctxt, &pvalue->tab_cycle, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode order */

   if (pvalue->m.orderPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|20,
         xe_utf8str (pctxt, pvalue->order, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode navigation_mode */

   if (pvalue->m.navigation_modePresent) {
      if(pvalue->navigation_mode < 0 || pvalue->navigation_mode > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|19,
         asn1E_Form_navigation_mode (pctxt, &pvalue->navigation_mode, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode name */

   if (pvalue->m.namePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|18,
         xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode method */

   if (pvalue->m.methodPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|17,
         asn1E_Form_method (pctxt, &pvalue->method, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode master_fields */

   if (pvalue->m.master_fieldsPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|16,
         xe_utf8str (pctxt, pvalue->master_fields, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode ignore_result */

   if (pvalue->m.ignore_resultPresent) {
      if(pvalue->ignore_result < 0 || pvalue->ignore_result > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|15,
         asn1E_Form_ignore_result (pctxt, &pvalue->ignore_result, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode filter */

   if (pvalue->m.filterPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|14,
         xe_utf8str (pctxt, pvalue->filter, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode escape_processing */

   if (pvalue->m.escape_processingPresent) {
      if(pvalue->escape_processing < 0 || pvalue->escape_processing > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|13,
         asn1E_Form_escape_processing (pctxt, &pvalue->escape_processing, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode enctype */

   if (pvalue->m.enctypePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|12,
         xe_utf8str (pctxt, pvalue->enctype, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode detail_fields */

   if (pvalue->m.detail_fieldsPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|11,
         xe_utf8str (pctxt, pvalue->detail_fields, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode datasource */

   if (pvalue->m.datasourcePresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|10,
         asn1E_Form_datasource (pctxt, &pvalue->datasource, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode control_implementation */

   if (pvalue->m.control_implementationPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
         xe_utf8str (pctxt, pvalue->control_implementation, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode command_type */

   if (pvalue->m.command_typePresent) {
      if(pvalue->command_type < 0 || pvalue->command_type > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
         asn1E_Form_command_type (pctxt, &pvalue->command_type, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode command */

   if (pvalue->m.commandPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
         xe_utf8str (pctxt, pvalue->command, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode apply_filter */

   if (pvalue->m.apply_filterPresent) {
      if(pvalue->apply_filter < 0 || pvalue->apply_filter > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
         asn1E_Form_apply_filter (pctxt, &pvalue->apply_filter, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode allow_updates */

   if (pvalue->m.allow_updatesPresent) {
      if(pvalue->allow_updates < 0 || pvalue->allow_updates > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
         asn1E_Form_allow_updates (pctxt, &pvalue->allow_updates, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode allow_inserts */

   if (pvalue->m.allow_insertsPresent) {
      if(pvalue->allow_inserts < 0 || pvalue->allow_inserts > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
         asn1E_Form_allow_inserts (pctxt, &pvalue->allow_inserts, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode allow_deletes */

   if (pvalue->m.allow_deletesPresent) {
      if(pvalue->allow_deletes < 0 || pvalue->allow_deletes > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
         asn1E_Form_allow_deletes (pctxt, &pvalue->allow_deletes, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode type */

   if (pvalue->m.typePresent) {
      if(pvalue->type < 0 || pvalue->type > 0)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
         asn1E_Xlink_Type (pctxt, &pvalue->type, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode href */

   if (pvalue->m.hrefPresent) {
      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
         asn1E_Xlink_Href (pctxt, pvalue->href, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   /* encode actuate */

   if (pvalue->m.actuatePresent) {
      if(pvalue->actuate < 0 || pvalue->actuate > 0)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
         asn1E_Form_actuate (pctxt, &pvalue->actuate, ASN1IMPL));
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Form (OSCTXT* pctxt, Form* pvalue, const OSUTF8CHAR* elemName, 
   const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, FALSE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* add attributes */

   if (pvalue->m.actuatePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xlink:actuate=\""), 16);

      if(pvalue->actuate < 0 || pvalue->actuate > 0)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Form_actuate (pctxt, pvalue->actuate, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.hrefPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xlink:href=\""), 13);

      stat = XmlEnc_Xlink_Href (pctxt, pvalue->href, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.typePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" xlink:type=\""), 13);

      if(pvalue->type < 0 || pvalue->type > 0)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Xlink_Type (pctxt, pvalue->type, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.allow_deletesPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:allow-deletes=\""), 20);

      if(pvalue->allow_deletes < 0 || pvalue->allow_deletes > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Form_allow_deletes (pctxt, pvalue->allow_deletes, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.allow_insertsPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:allow-inserts=\""), 20);

      if(pvalue->allow_inserts < 0 || pvalue->allow_inserts > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Form_allow_inserts (pctxt, pvalue->allow_inserts, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.allow_updatesPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:allow-updates=\""), 20);

      if(pvalue->allow_updates < 0 || pvalue->allow_updates > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Form_allow_updates (pctxt, pvalue->allow_updates, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.apply_filterPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:apply-filter=\""), 19);

      if(pvalue->apply_filter < 0 || pvalue->apply_filter > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Form_apply_filter (pctxt, pvalue->apply_filter, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.commandPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:command=\""), 14);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->command, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.command_typePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:command-type=\""), 19);

      if(pvalue->command_type < 0 || pvalue->command_type > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Form_command_type (pctxt, pvalue->command_type, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.control_implementationPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:control-implementation=\""), 29);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->control_implementation, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.datasourcePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:datasource=\""), 17);

      stat = XmlEnc_Form_datasource (pctxt, &pvalue->datasource, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.detail_fieldsPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:detail-fields=\""), 20);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->detail_fields, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.enctypePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:enctype=\""), 14);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->enctype, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.escape_processingPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:escape-processing=\""), 24);

      if(pvalue->escape_processing < 0 || pvalue->escape_processing > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Form_escape_processing (pctxt, pvalue->escape_processing
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.filterPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:filter=\""), 13);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->filter, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.ignore_resultPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:ignore-result=\""), 20);

      if(pvalue->ignore_result < 0 || pvalue->ignore_result > 1)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Form_ignore_result (pctxt, pvalue->ignore_result, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.master_fieldsPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:master-fields=\""), 20);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->master_fields, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.methodPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:method=\""), 13);

      stat = XmlEnc_Form_method (pctxt, &pvalue->method, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.namePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:name=\""), 11);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->name, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.navigation_modePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:navigation-mode=\""), 22);

      if(pvalue->navigation_mode < 0 || pvalue->navigation_mode > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Form_navigation_mode (pctxt, pvalue->navigation_mode
         , 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.orderPresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:order=\""), 12);

      stat = rtXmlEncUTF8Str (pctxt, pvalue->order, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '\"');
   }

   if (pvalue->m.tab_cyclePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns4:tab-cycle=\""), 16);

      if(pvalue->tab_cycle < 0 || pvalue->tab_cycle > 2)
         return LOG_RTERR (pctxt, RTERR_INVENUM);

      stat = XmlEnc_Form_tab_cycle (pctxt, pvalue->tab_cycle, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   if (pvalue->m.target_framePresent) {
      OSRTSAFEMEMCPY (pctxt, OSUTF8(" ns13:target-frame=\""), 20);

      stat = XmlEnc_Ns13_Target_frame (pctxt, pvalue->target_frame, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);

      OSRTSAFEPUTCHAR (pctxt, '"');
   }

   OSRTSAFEPUTCHAR (pctxt, '>');
   pctxt->flags &= ~OSTERMSTART;
   pctxt->state = OSXMLSTART;

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   /* encode properties */

   if (pvalue->m.propertiesPresent) {
      stat = XmlEnc_Properties (pctxt, &pvalue->properties
         , OSUTF8("properties"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode event_listeners */

   if (pvalue->m.event_listenersPresent) {
      stat = XmlEnc_Ns13_Event_listeners (pctxt, &pvalue->event_listeners
         , OSUTF8("event-listeners"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   /* encode choice_list */

   { const OSUTF8CHAR* savedPrefix = nsPrefix;
   nsPrefix = rtXmlNSGetPrefix (pctxt, OSUTF8(
      "urn:oasis:names:tc:opendocument:xmlns:form:1.0"));

   { OSRTDListNode* pnode = pvalue->choice_list.head;
   while (0 != pnode) {
      stat = XmlEnc_Form_element (pctxt, ((Form_element*)pnode->data)
         , 0, nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
      pnode = pnode->next;
   }}
   nsPrefix = savedPrefix;
   }

   /* encode connection_resource */

   if (pvalue->m.connection_resourcePresent) {
      stat = XmlEnc_Connection_resource (pctxt, &pvalue->connection_resource
         , OSUTF8("connection-resource"), nsPrefix);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }
   nsPrefix = savedPrefix;
   }

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

