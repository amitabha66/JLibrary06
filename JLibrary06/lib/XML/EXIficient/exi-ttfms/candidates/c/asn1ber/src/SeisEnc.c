/**
 * This file was generated by the Objective Systems ASN1C Compiler
 * (http://www.obj-sys.com).  Version: 6.0B, Date: 18-Oct-2006.
 */
#include "Seis.h"
#include "rtxsrc/rtxCommon.h"

/**************************************************************/
/*                                                            */
/*  Headtype                                                  */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Headtype (OSCTXT* pctxt,
   Headtype *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode xyzs_field_precisions */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|9,
      xe_utf8str (pctxt, pvalue->xyzs_field_precisions, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode xyzs_field_names */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|8,
      xe_utf8str (pctxt, pvalue->xyzs_field_names, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode num_xyzs_fields */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|7,
      xe_int8 (pctxt, &pvalue->num_xyzs_fields, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode zinc */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|6,
      xe_real (pctxt, &pvalue->zinc, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode zstart */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|5,
      xe_real (pctxt, &pvalue->zstart, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode precision */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|4,
      xe_int8 (pctxt, &pvalue->precision, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode nsamp */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|3,
      xe_int16 (pctxt, &pvalue->nsamp, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode ntrace */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|2,
      xe_integer (pctxt, &pvalue->ntrace, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode area */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|1,
      xe_utf8str (pctxt, pvalue->area, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode name */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_PRIM|0,
      xe_utf8str (pctxt, pvalue->name, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Headtype (OSCTXT* pctxt, Headtype* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, TRUE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* encode name */

   stat = rtXmlEncUTF8Str (pctxt, pvalue->name, OSUTF8("name"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode area */

   stat = rtXmlEncUTF8Str (pctxt, pvalue->area, OSUTF8("area"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode ntrace */

   stat = rtXmlEncInt (pctxt, pvalue->ntrace, OSUTF8("ntrace"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode nsamp */

   stat = rtXmlEncInt (pctxt, pvalue->nsamp, OSUTF8("nsamp"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode precision */

   stat = rtXmlEncInt (pctxt, pvalue->precision, OSUTF8("precision"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode zstart */

   stat = rtXmlEncDouble (pctxt, pvalue->zstart, OSUTF8("zstart"), 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode zinc */

   stat = rtXmlEncDouble (pctxt, pvalue->zinc, OSUTF8("zinc"), 0, 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode num_xyzs_fields */

   stat = rtXmlEncInt (pctxt, pvalue->num_xyzs_fields
      , OSUTF8("num_xyzs_fields"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode xyzs_field_names */

   stat = rtXmlEncUTF8Str (pctxt, pvalue->xyzs_field_names
      , OSUTF8("xyzs_field_names"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode xyzs_field_precisions */

   stat = rtXmlEncUTF8Str (pctxt, pvalue->xyzs_field_precisions
      , OSUTF8("xyzs_field_precisions"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Xcrdtype                                                  */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Xcrdtype (OSCTXT* pctxt,
   Xcrdtype *pvalue, ASN1TagType tagging)
{
   int xx1;
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   for (xx1 = (pvalue->n - 1); xx1 >= 0; xx1--)
   {
      ll = xe_real (pctxt, &pvalue->elem[xx1], ASN1EXPL);
      if (ll < 0) return LOG_RTERR (pctxt, ll);
      ll1 += ll;
   }
   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Xcrdtype (OSCTXT* pctxt, Xcrdtype* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (elemName != 0) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, TRUE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   { OSUINT32 xx1;
   for (xx1 = 0; xx1 < pvalue->n; xx1++) {
      stat = rtXmlEncDouble (pctxt, pvalue->elem[xx1], 0, 0, 0);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
      OSRTSAFEPUTCHAR (pctxt, ' ');
   }}
   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

/**************************************************************/
/*                                                            */
/*  Seisdata                                                  */
/*                                                            */
/**************************************************************/

EXTERN int asn1E_Seisdata (OSCTXT* pctxt,
   Seisdata *pvalue, ASN1TagType tagging)
{
   int ll;
   int ll0 = 0;
   int ll1 = 0;

   /* encode data */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|5,
      asn1E_Xcrdtype (pctxt, &pvalue->data, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode cdp */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|4,
      asn1E_Xcrdtype (pctxt, &pvalue->cdp, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode zval */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|3,
      asn1E_Xcrdtype (pctxt, &pvalue->zval, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode ycrd */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|2,
      asn1E_Xcrdtype (pctxt, &pvalue->ycrd, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode xcrd */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|1,
      asn1E_Xcrdtype (pctxt, &pvalue->xcrd, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   /* encode head */

   ll = xe_tag_len (pctxt, TM_CTXT|TM_CONS|0,
      asn1E_Headtype (pctxt, &pvalue->head, ASN1IMPL));
   if (ll < 0) return LOG_RTERR (pctxt, ll);
   ll1 += ll;

   ll0 += ll1;

   if (tagging == ASN1EXPL)
      ll0 = xe_tag_len (pctxt, TM_UNIV|TM_CONS|16, ll0);

   return (ll0);
}

int XmlEnc_Seisdata (OSCTXT* pctxt, Seisdata* pvalue, 
   const OSUTF8CHAR* elemName, const OSUTF8CHAR* nsPrefix)
{
   int stat = 0;

   if (0 != elemName) {
      stat = rtXmlEncStartElement (pctxt, elemName, nsPrefix, TRUE);
      if (stat != 0) return LOG_RTERR (pctxt, stat);
   }

   /* encode head */

   stat = XmlEnc_Headtype (pctxt, &pvalue->head, OSUTF8("head"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode xcrd */

   stat = XmlEnc_Xcrdtype (pctxt, &pvalue->xcrd, OSUTF8("xcrd"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode ycrd */

   stat = XmlEnc_Xcrdtype (pctxt, &pvalue->ycrd, OSUTF8("ycrd"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode zval */

   stat = XmlEnc_Xcrdtype (pctxt, &pvalue->zval, OSUTF8("zval"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode cdp */

   stat = XmlEnc_Xcrdtype (pctxt, &pvalue->cdp, OSUTF8("cdp"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   /* encode data */

   stat = XmlEnc_Xcrdtype (pctxt, &pvalue->data, OSUTF8("data"), 0);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   stat = rtXmlEncEndElement (pctxt, elemName, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return (stat);
}

int XmlEnc_Seisdata_PDU (OSCTXT* pctxt, Seisdata* pvalue)
{
   int stat;
   const OSUTF8CHAR* nsPrefix = 0;

   stat = rtXmlEncStartDocument (pctxt);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   stat = rtXmlEncStartElement (pctxt, OSUTF8("seisdata"), nsPrefix, FALSE);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   stat = rtXmlEncNSAttrs (pctxt);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   stat = rtXmlEncXSIAttrs (pctxt, FALSE);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   stat = XmlEnc_Seisdata (pctxt, pvalue, 0, nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   stat = rtXmlEncEndElement (pctxt, OSUTF8("seisdata"), nsPrefix);
   if (stat != 0) return LOG_RTERR (pctxt, stat);

   return stat;
}
